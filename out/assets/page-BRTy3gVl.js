const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-DvzWwFof.js","assets/index-CQa-GowG.js","assets/index-Bow5TdAS.css","assets/jspdf.plugin.autotable-VZmxQTtP.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,D as M,_ as k}from"./index-CQa-GowG.js";function W(){const[D,p]=o.useState(!1),[m,w]=o.useState(null),[y,P]=o.useState("all"),[f,C]=o.useState("all"),[h,S]=o.useState(""),[E,b]=o.useState(!1),[l,A]=o.useState(null),[d,v]=o.useState([]),[r,c]=o.useState({name:"",rnc:"",phone:"",email:"",address:"",category:"Materiales",creditLimit:"",paymentTerms:"30 días",contact:"",status:"Activo"}),L=["Materiales","Distribución","Servicios","Construcción","Tecnología"],R=["15 días","21 días","30 días","45 días","60 días"],i=d.filter(t=>{const a=y==="all"||t.category===y,g=f==="all"||t.status===f,u=h===""||t.name.toLowerCase().includes(h.toLowerCase())||t.rnc.toLowerCase().includes(h.toLowerCase())||t.email.toLowerCase().includes(h.toLowerCase());return a&&g&&u}),F=t=>{if(t.preventDefault(),m)v(d.map(a=>a.id===m.id?{...a,...r,creditLimit:parseFloat(r.creditLimit)}:a));else{const a={id:d.length+1,...r,creditLimit:parseFloat(r.creditLimit),balance:0,status:"Activo"};v([...d,a])}$(),alert(m?"Proveedor actualizado exitosamente":"Proveedor creado exitosamente")},$=()=>{c({name:"",rnc:"",phone:"",email:"",address:"",category:"Materiales",creditLimit:"",paymentTerms:"30 días",contact:"",status:"Activo"}),w(null),p(!1)},T=t=>{w(t),c({name:t.name,rnc:t.rnc,phone:t.phone,email:t.email,address:t.address,category:t.category,creditLimit:t.creditLimit.toString(),paymentTerms:t.paymentTerms,contact:t.contact,status:t.status||"Activo"}),p(!0)},B=t=>{confirm("¿Estás seguro de eliminar este proveedor?")&&(v(d.filter(a=>a.id!==t)),alert("Proveedor eliminado exitosamente"))},_=async()=>{const{default:t}=await k(async()=>{const{default:s}=await import("./jspdf.es.min-DvzWwFof.js").then(n=>n.j);return{default:s}},__vite__mapDeps([0,1,2]));await k(()=>import("./jspdf.plugin.autotable-VZmxQTtP.js").then(s=>s.j),__vite__mapDeps([3,1,2,0]));const a=new t;a.setFontSize(20),a.text("Lista de Proveedores",20,20),a.setFontSize(12),a.text(`Fecha de Generación: ${new Date().toLocaleDateString()}`,20,40),a.text(`Total de Proveedores: ${i.length}`,20,50);const g=i.map(s=>[s.name,s.rnc,s.phone,s.category,`RD$ ${s.creditLimit.toLocaleString()}`,`RD$ ${s.balance.toLocaleString()}`,s.status]);a.autoTable({head:[["Nombre","RNC","Teléfono","Categoría","Límite Crédito","Balance","Estado"]],body:g,startY:70,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:9},columnStyles:{0:{cellWidth:40},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25,halign:"right"},5:{cellWidth:25,halign:"right"},6:{cellWidth:20,halign:"center"}}});const u=i.reduce((s,n)=>s+n.creditLimit,0),N=i.reduce((s,n)=>s+n.balance,0),x=i.filter(s=>s.status==="Activo").length;a.autoTable({body:[["Total Límite de Crédito:",`RD$ ${u.toLocaleString()}`],["Total Balance Actual:",`RD$ ${N.toLocaleString()}`],["Proveedores Activos:",`${x} de ${i.length}`]],startY:(a.lastAutoTable?.finalY??70)+20,theme:"plain",styles:{fontStyle:"bold"}});const j=a.getNumberOfPages();for(let s=1;s<=j;s++)a.setPage(s),a.setFontSize(10),a.text(`Página ${s} de ${j}`,a.internal.pageSize.width-50,a.internal.pageSize.height-10),a.text("Sistema Contable - Gestión de Proveedores",20,a.internal.pageSize.height-10);a.save(`proveedores-${new Date().toISOString().split("T")[0]}.pdf`)},z=()=>{let t=`Lista de Proveedores

`;t+=`Nombre,RNC,Teléfono,Email,Dirección,Categoría,Límite Crédito,Balance Actual,Estado,Términos de Pago,Contacto
`,i.forEach(s=>{t+=`"${s.name}","${s.rnc}","${s.phone}","${s.email}","${s.address}","${s.category}",${s.creditLimit},${s.balance},"${s.status}","${s.paymentTerms}","${s.contact}"
`});const a=i.reduce((s,n)=>s+n.creditLimit,0),g=i.reduce((s,n)=>s+n.balance,0),u=i.filter(s=>s.status==="Activo").length;t+=`
Estadísticas
`,t+=`Total Límite de Crédito,${a}
`,t+=`Total Balance Actual,${g}
`,t+=`Proveedores Activos,${u}
`,t+=`Total Proveedores,${i.length}
`;const N=new Blob([t],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),j=URL.createObjectURL(N);x.setAttribute("href",j),x.setAttribute("download",`proveedores-${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},I=t=>{A(t),b(!0)};return e.jsx(M,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Proveedores"}),e.jsx("p",{className:"text-gray-600",children:"Base de datos de proveedores y vendedores"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:_,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-pdf-line mr-2"}),"Exportar PDF"]}),e.jsxs("button",{onClick:z,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-excel-line mr-2"}),"Exportar Excel"]}),e.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Nuevo Proveedor"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-truck-line text-xl text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Proveedores"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-check-line text-xl text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Activos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(t=>t.status==="Activo").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Balance Total"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RD$ ",d.reduce((t,a)=>t+a.balance,0).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-credit-card-line text-xl text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Crédito Disponible"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RD$ ",d.reduce((t,a)=>t+(a.creditLimit-a.balance),0).toLocaleString()]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nombre, RNC o email...",value:h,onChange:t=>S(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),e.jsxs("select",{value:y,onChange:t=>P(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Todas las Categorías"}),L.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs("select",{value:f,onChange:t=>C(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Todos los Estados"}),e.jsx("option",{value:"Activo",children:"Activo"}),e.jsx("option",{value:"Inactivo",children:"Inactivo"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{S(""),C("all")},className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap",children:"Limpiar Filtros"})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lista de Proveedores"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RNC"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Límite Crédito"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.rnc}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:t.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:["RD$ ",t.balance.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:["RD$ ",t.creditLimit.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${t.status==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>I(t),className:"text-blue-600 hover:text-blue-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>T(t),className:"text-indigo-600 hover:text-indigo-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>B(t.id),className:"text-red-600 hover:text-red-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})})]},t.id))})]})})]}),E&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalles del Proveedor"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Nombre"}),e.jsx("p",{className:"text-gray-900",children:l.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"RNC"}),e.jsx("p",{className:"text-gray-900",children:l.rnc})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:l.email})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Teléfono"}),e.jsx("p",{className:"text-gray-900",children:l.phone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Dirección"}),e.jsx("p",{className:"text-gray-900",children:l.address})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Categoría"}),e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:l.category})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l.status==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.status})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Límite de Crédito"}),e.jsxs("p",{className:"text-gray-900",children:["RD$ ",l.creditLimit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Balance Actual"}),e.jsxs("p",{className:"text-gray-900",children:["RD$ ",l.balance.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Términos de Pago"}),e.jsx("p",{className:"text-gray-900",children:l.paymentTerms})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Contacto"}),e.jsx("p",{className:"text-gray-900",children:l.contact})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>{b(!1),T(l)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"Editar"}),e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 whitespace-nowrap",children:"Cerrar"})]})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m?"Editar Proveedor":"Nuevo Proveedor"})}),e.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),e.jsx("input",{type:"text",required:!0,value:r.name,onChange:t=>c({...r,name:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RNC *"}),e.jsx("input",{type:"text",required:!0,value:r.rnc,onChange:t=>c({...r,rnc:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:t=>c({...r,email:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),e.jsx("input",{type:"text",value:r.phone,onChange:t=>c({...r,phone:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección"}),e.jsx("textarea",{value:r.address,onChange:t=>c({...r,address:t.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Límite de Crédito"}),e.jsx("input",{type:"number",value:r.creditLimit,onChange:t=>c({...r,creditLimit:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Términos de Pago"}),e.jsx("select",{value:r.paymentTerms,onChange:t=>c({...r,paymentTerms:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:R.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),e.jsx("select",{value:r.category,onChange:t=>c({...r,category:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:L.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs("select",{value:r.status,onChange:t=>c({...r,status:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"Activo",children:"Activo"}),e.jsx("option",{value:"Inactivo",children:"Inactivo"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 whitespace-nowrap",children:"Cancelar"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 whitespace-nowrap",children:[m?"Actualizar":"Crear"," Proveedor"]})]})]})]})})]})})}export{W as default};
//# sourceMappingURL=page-BRTy3gVl.js.map
