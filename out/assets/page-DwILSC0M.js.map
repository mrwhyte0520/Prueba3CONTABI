{"version":3,"file":"page-DwILSC0M.js","sources":["../../src/pages/accounting/bank-reconciliation/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport DashboardLayout from '../../../components/layout/DashboardLayout';\nimport { useAuth } from '../../../hooks/useAuth';\n\ninterface BankStatement {\n  id: string;\n  bank_id: string;\n  statement_date: string;\n  beginning_balance: number;\n  ending_balance: number;\n  total_deposits: number;\n  total_withdrawals: number;\n  statement_items: BankStatementItem[];\n}\n\ninterface BankStatementItem {\n  id: string;\n  date: string;\n  description: string;\n  reference: string;\n  amount: number;\n  type: 'deposit' | 'withdrawal';\n  is_reconciled: boolean;\n  journal_entry_id?: string;\n}\n\ninterface ReconciliationItem {\n  id: string;\n  type: 'book' | 'bank';\n  date: string;\n  description: string;\n  amount: number;\n  is_matched: boolean;\n  match_id?: string;\n}\n\nexport default function BankReconciliationPage() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [selectedBank, setSelectedBank] = useState('');\n  const [reconciliationDate, setReconciliationDate] = useState(new Date().toISOString().split('T')[0]);\n  const [bankStatement, setBankStatement] = useState<BankStatement | null>(null);\n  const [bookItems, setBookItems] = useState<ReconciliationItem[]>([]);\n  const [bankItems, setBankItems] = useState<ReconciliationItem[]>([]);\n  const [adjustments, setAdjustments] = useState<any[]>([]);\n  const [showAdjustmentModal, setShowAdjustmentModal] = useState(false);\n\n  const banks: Array<{ id: string; name: string; account_number: string }> = [];\n\n  const [adjustmentForm, setAdjustmentForm] = useState({\n    type: 'bank_charge',\n    description: '',\n    amount: '',\n    date: new Date().toISOString().split('T')[0]\n  });\n\n  useEffect(() => {\n    loadData();\n  }, [selectedBank, reconciliationDate]);\n\n  const loadData = async () => {\n    if (!selectedBank) {\n      setLoading(false);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      setBookItems([]);\n      setBankItems([]);\n    } catch (error) {\n      console.error('Error loading reconciliation data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleMatchItems = (bookId: string, bankId: string) => {\n    setBookItems(prev => prev.map(item => \n      item.id === bookId \n        ? { ...item, is_matched: true, match_id: bankId }\n        : item\n    ));\n    \n    setBankItems(prev => prev.map(item => \n      item.id === bankId \n        ? { ...item, is_matched: true, match_id: bookId }\n        : item\n    ));\n  };\n\n  const handleUnmatchItem = (itemId: string, type: 'book' | 'bank') => {\n    if (type === 'book') {\n      const item = bookItems.find(i => i.id === itemId);\n      if (item?.match_id) {\n        setBankItems(prev => prev.map(i => \n          i.id === item.match_id \n            ? { ...i, is_matched: false, match_id: undefined }\n            : i\n        ));\n      }\n      setBookItems(prev => prev.map(i => \n        i.id === itemId \n          ? { ...i, is_matched: false, match_id: undefined }\n          : i\n      ));\n    } else {\n      const item = bankItems.find(i => i.id === itemId);\n      if (item?.match_id) {\n        setBookItems(prev => prev.map(i => \n          i.id === item.match_id \n            ? { ...i, is_matched: false, match_id: undefined }\n            : i\n        ));\n      }\n      setBankItems(prev => prev.map(i => \n        i.id === itemId \n          ? { ...i, is_matched: false, match_id: undefined }\n          : i\n      ));\n    }\n  };\n\n  const handleSubmitAdjustment = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const newAdjustment = {\n        id: Date.now().toString(),\n        type: adjustmentForm.type,\n        description: adjustmentForm.description,\n        amount: parseFloat(adjustmentForm.amount),\n        date: adjustmentForm.date,\n        created_at: new Date().toISOString()\n      };\n\n      setAdjustments(prev => [...prev, newAdjustment]);\n      \n      // Agregar como item del libro\n      const newBookItem: ReconciliationItem = {\n        id: `adj_${Date.now()}`,\n        type: 'book',\n        date: adjustmentForm.date,\n        description: `Ajuste: ${adjustmentForm.description}`,\n        amount: adjustmentForm.type === 'bank_charge' ? -Math.abs(parseFloat(adjustmentForm.amount)) : Math.abs(parseFloat(adjustmentForm.amount)),\n        is_matched: false\n      };\n\n      setBookItems(prev => [...prev, newBookItem]);\n\n      setAdjustmentForm({\n        type: 'bank_charge',\n        description: '',\n        amount: '',\n        date: new Date().toISOString().split('T')[0]\n      });\n      setShowAdjustmentModal(false);\n      alert('Ajuste agregado exitosamente.');\n    } catch (error) {\n      console.error('Error creating adjustment:', error);\n      alert('Error al crear el ajuste. Intente nuevamente.');\n    }\n  };\n\n  const calculateBalances = () => {\n    const bookBalance = bookItems.reduce((sum, item) => sum + item.amount, 0);\n    const bankBalance = bankItems.reduce((sum, item) => sum + item.amount, 0);\n    const unmatchedBook = bookItems.filter(item => !item.is_matched).reduce((sum, item) => sum + item.amount, 0);\n    const unmatchedBank = bankItems.filter(item => !item.is_matched).reduce((sum, item) => sum + item.amount, 0);\n    \n    return {\n      bookBalance,\n      bankBalance,\n      unmatchedBook,\n      unmatchedBank,\n      difference: bookBalance - bankBalance,\n      isReconciled: Math.abs(unmatchedBook - unmatchedBank) < 0.01\n    };\n  };\n\n  const balances = calculateBalances();\n\n  const downloadExcel = () => {\n    try {\n      // Crear contenido CSV\n      let csvContent = 'Conciliación Bancaria\\n';\n      csvContent += `Generado: ${new Date().toLocaleDateString()}\\n\\n`;\n      csvContent += 'Fecha,Descripción,Referencia,Débito,Crédito,Estado\\n';\n      // Exportar items del estado bancario como referencia\n      bankItems.forEach((item: ReconciliationItem) => {\n        const row = [\n          new Date(item.date).toLocaleDateString(),\n          `\"${item.description}\"`,\n          '',\n          item.amount < 0 ? Math.abs(item.amount).toLocaleString() : '',\n          item.amount > 0 ? item.amount.toLocaleString() : '',\n          item.is_matched ? 'Conciliado' : 'Pendiente'\n        ].join(',');\n        csvContent += row + '\\n';\n      });\n\n      // Agregar resumen\n      csvContent += '\\nResumen de Conciliación:\\n';\n      csvContent += `Total Transacciones:,${bankItems.length}\\n`;\n      csvContent += `Transacciones Conciliadas:,${bankItems.filter((i: ReconciliationItem) => i.is_matched).length}\\n`;\n      csvContent += `Transacciones Pendientes:,${bankItems.filter((i: ReconciliationItem) => !i.is_matched).length}\\n`;\n\n      // Crear y descargar archivo\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `conciliacion_bancaria_${new Date().toISOString().split('T')[0]}.csv`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error('Error downloading Excel:', error);\n      alert('Error al descargar el archivo');\n    }\n  };\n\n  if (loading) {\n    return (\n      <DashboardLayout>\n        <div className=\"p-6 flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Cargando datos de conciliación...</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Conciliación Bancaria</h1>\n            <p className=\"text-gray-600 mt-1\">Reconcilie las transacciones del libro con el estado bancario</p>\n          </div>\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={() => setShowAdjustmentModal(true)}\n              className=\"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-settings-line mr-2\"></i>\n              Nuevo Ajuste\n            </button>\n            <button\n              onClick={() => navigate('/accounting')}\n              className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-arrow-left-line mr-2\"></i>\n              Volver\n            </button>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Banco\n              </label>\n              <select\n                value={selectedBank}\n                onChange={(e) => setSelectedBank(e.target.value)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n              >\n                <option value=\"\">Seleccionar banco</option>\n                {banks.map((bank) => (\n                  <option key={bank.id} value={bank.id}>\n                    {bank.name} - {bank.account_number}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Fecha de Conciliación\n              </label>\n              <input\n                type=\"date\"\n                value={reconciliationDate}\n                onChange={(e) => setReconciliationDate(e.target.value)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <button\n                onClick={loadData}\n                disabled={!selectedBank}\n                className=\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap disabled:opacity-50\"\n              >\n                <i className=\"ri-refresh-line mr-2\"></i>\n                Cargar Datos\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {selectedBank && (\n          <>\n            {/* Summary */}\n            <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6\">\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\n                    <i className=\"ri-book-line text-2xl text-blue-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Balance Libro</p>\n                    <p className=\"text-xl font-bold text-gray-900\">\n                      RD${balances.bookBalance.toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\n                    <i className=\"ri-bank-line text-2xl text-green-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Balance Banco</p>\n                    <p className=\"text-xl font-bold text-gray-900\">\n                      RD${balances.bankBalance.toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-yellow-100 rounded-lg\">\n                    <i className=\"ri-question-line text-2xl text-yellow-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Sin Conciliar</p>\n                    <p className=\"text-xl font-bold text-gray-900\">\n                      {bookItems.filter(i => !i.is_matched).length + bankItems.filter(i => !i.is_matched).length}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className={`p-2 rounded-lg ${Math.abs(balances.difference) < 0.01 ? 'bg-green-100' : 'bg-red-100'}`}>\n                    <i className={`ri-calculator-line text-2xl ${Math.abs(balances.difference) < 0.01 ? 'text-green-600' : 'text-red-600'}`}></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Diferencia</p>\n                    <p className={`text-xl font-bold ${Math.abs(balances.difference) < 0.01 ? 'text-green-600' : 'text-red-600'}`}>\n                      RD${Math.abs(balances.difference).toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className={`p-2 rounded-lg ${balances.isReconciled ? 'bg-green-100' : 'bg-red-100'}`}>\n                    <i className={`ri-check-line text-2xl ${balances.isReconciled ? 'text-green-600' : 'text-red-600'}`}></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Estado</p>\n                    <p className={`text-sm font-bold ${balances.isReconciled ? 'text-green-600' : 'text-red-600'}`}>\n                      {balances.isReconciled ? 'Conciliado' : 'Pendiente'}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Reconciliation Tables */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Book Items */}\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"px-6 py-4 border-b border-gray-200\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">Transacciones del Libro</h3>\n                </div>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Fecha\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Descripción\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Monto\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Estado\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Acción\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {bookItems.map((item) => (\n                        <tr key={item.id} className={item.is_matched ? 'bg-green-50' : ''}>\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\n                            {new Date(item.date).toLocaleDateString()}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900\">\n                            {item.description}\n                          </td>\n                          <td className={`px-4 py-4 whitespace-nowrap text-sm font-medium ${\n                            item.amount >= 0 ? 'text-green-600' : 'text-red-600'\n                          }`}>\n                            RD${Math.abs(item.amount).toLocaleString()}\n                          </td>\n                          <td className=\"px-4 py-4 whitespace-nowrap\">\n                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                              item.is_matched \n                                ? 'bg-green-100 text-green-800' \n                                : 'bg-yellow-100 text-yellow-800'\n                            }`}>\n                              {item.is_matched ? 'Conciliado' : 'Pendiente'}\n                            </span>\n                          </td>\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium\">\n                            {item.is_matched ? (\n                              <button\n                                onClick={() => handleUnmatchItem(item.id, 'book')}\n                                className=\"text-red-600 hover:text-red-900\"\n                              >\n                                Deshacer\n                              </button>\n                            ) : (\n                              <select\n                                onChange={(e) => e.target.value && handleMatchItems(item.id, e.target.value)}\n                                className=\"text-sm border border-gray-300 rounded px-2 py-1 pr-8\"\n                                defaultValue=\"\"\n                              >\n                                <option value=\"\">Conciliar con...</option>\n                                {bankItems.filter(b => !b.is_matched && Math.abs(b.amount - item.amount) < 0.01).map((bankItem) => (\n                                  <option key={bankItem.id} value={bankItem.id}>\n                                    {bankItem.description.substring(0, 20)}...\n                                  </option>\n                                ))}\n                              </select>\n                            )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              {/* Bank Items */}\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"px-6 py-4 border-b border-gray-200\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">Estado Bancario</h3>\n                </div>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Fecha\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Descripción\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Monto\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Estado\n                        </th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Acción\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {bankItems.map((item) => (\n                        <tr key={item.id} className={item.is_matched ? 'bg-green-50' : ''}>\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\n                            {new Date(item.date).toLocaleDateString()}\n                          </td>\n                          <td className=\"px-4 py-4 text-sm text-gray-900\">\n                            {item.description}\n                          </td>\n                          <td className={`px-4 py-4 whitespace-nowrap text-sm font-medium ${\n                            item.amount >= 0 ? 'text-green-600' : 'text-red-600'\n                          }`}>\n                            RD${Math.abs(item.amount).toLocaleString()}\n                          </td>\n                          <td className=\"px-4 py-4 whitespace-nowrap\">\n                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                              item.is_matched \n                                ? 'bg-green-100 text-green-800' \n                                : 'bg-yellow-100 text-yellow-800'\n                            }`}>\n                              {item.is_matched ? 'Conciliado' : 'Pendiente'}\n                            </span>\n                          </td>\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium\">\n                            {item.is_matched ? (\n                              <button\n                                onClick={() => handleUnmatchItem(item.id, 'bank')}\n                                className=\"text-red-600 hover:text-red-900\"\n                              >\n                                Deshacer\n                              </button>\n                            ) : (\n                              <select\n                                onChange={(e) => e.target.value && handleMatchItems(e.target.value, item.id)}\n                                className=\"text-sm border border-gray-300 rounded px-2 py-1 pr-8\"\n                                defaultValue=\"\"\n                              >\n                                <option value=\"\">Conciliar con...</option>\n                                {bookItems.filter(b => !b.is_matched && Math.abs(b.amount - item.amount) < 0.01).map((bookItem) => (\n                                  <option key={bookItem.id} value={bookItem.id}>\n                                    {bookItem.description.substring(0, 20)}...\n                                  </option>\n                                ))}\n                              </select>\n                            )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n\n        {/* Adjustment Modal */}\n        {showAdjustmentModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-xl font-semibold text-gray-900\">Nuevo Ajuste de Conciliación</h2>\n                  <button\n                    onClick={() => setShowAdjustmentModal(false)}\n                    className=\"text-gray-400 hover:text-gray-600\"\n                  >\n                    <i className=\"ri-close-line text-xl\"></i>\n                  </button>\n                </div>\n\n                <form onSubmit={handleSubmitAdjustment} className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Tipo de Ajuste *\n                      </label>\n                      <select\n                        required\n                        value={adjustmentForm.type}\n                        onChange={(e) => setAdjustmentForm(prev => ({ ...prev, type: e.target.value }))}\n                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                      >\n                        <option value=\"bank_charge\">Comisión Bancaria</option>\n                        <option value=\"interest_earned\">Interés Ganado</option>\n                        <option value=\"nsf_fee\">Comisión por Fondos Insuficientes</option>\n                        <option value=\"service_charge\">Cargo por Servicio</option>\n                        <option value=\"other\">Otro</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Fecha *\n                      </label>\n                      <input\n                        type=\"date\"\n                        required\n                        value={adjustmentForm.date}\n                        onChange={(e) => setAdjustmentForm(prev => ({ ...prev, date: e.target.value }))}\n                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Descripción *\n                    </label>\n                    <input\n                      type=\"text\"\n                      required\n                      value={adjustmentForm.description}\n                      onChange={(e) => setAdjustmentForm(prev => ({ ...prev, description: e.target.value }))}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Monto *\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      required\n                      value={adjustmentForm.amount}\n                      onChange={(e) => setAdjustmentForm(prev => ({ ...prev, amount: e.target.value }))}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  <div className=\"flex space-x-3 pt-4\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowAdjustmentModal(false)}\n                      className=\"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap\"\n                    >\n                      Cancelar\n                    </button>\n                    <button\n                      type=\"submit\"\n                      className=\"flex-1 bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors whitespace-nowrap\"\n                    >\n                      Crear Ajuste\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["BankReconciliationPage","navigate","useNavigate","useAuth","loading","setLoading","useState","selectedBank","setSelectedBank","reconciliationDate","setReconciliationDate","bankStatement","setBankStatement","bookItems","setBookItems","bankItems","setBankItems","adjustments","setAdjustments","showAdjustmentModal","setShowAdjustmentModal","banks","adjustmentForm","setAdjustmentForm","useEffect","loadData","error","handleMatchItems","bookId","bankId","prev","item","handleUnmatchItem","itemId","type","i","handleSubmitAdjustment","e","newAdjustment","newBookItem","balances","bookBalance","sum","bankBalance","unmatchedBook","unmatchedBank","jsx","DashboardLayout","jsxs","bank","Fragment","b","bankItem","bookItem"],"mappings":"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"}