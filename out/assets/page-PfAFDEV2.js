import{a as N,r as a,t as o,j as e,D as n}from"./index-CQa-GowG.js";function w(){const t=N(),[i,c]=a.useState({itbis_cobrado:0,itbis_pagado:0,itbis_neto:0,retenciones:0}),[d,x]=a.useState([]),[m,g]=a.useState(!0);a.useEffect(()=>{p()},[]);const p=async()=>{try{const[s,r]=await Promise.all([o.getTaxStatistics(),o.getNcfSeries()]);c(s),x(r)}catch(s){console.error("Error loading dashboard data:",s)}finally{g(!1)}},h=[{title:"Configuración de Impuestos",description:"Configurar tasas y parámetros fiscales",icon:"ri-settings-line",href:"/taxes/configuration",color:"blue"},{title:"Gestión NCF/E-CF",description:"Mantenimiento de secuencias fiscales",icon:"ri-file-shield-line",href:"/taxes/ncf",color:"green"},{title:"Series Fiscales",description:"Gestionar series de documentos fiscales",icon:"ri-list-ordered-line",href:"/taxes/fiscal-series",color:"purple"},{title:"Reporte 606",description:"Reporte de compras y servicios",icon:"ri-file-chart-line",href:"/taxes/report-606",color:"orange"},{title:"Reporte 607",description:"Reporte de ventas y servicios",icon:"ri-file-chart-2-line",href:"/taxes/report-607",color:"red"},{title:"Reporte 608",description:"Reporte de documentos cancelados",icon:"ri-file-damage-line",href:"/taxes/report-608",color:"indigo"},{title:"Reporte 623",description:"Reporte de pagos al exterior",icon:"ri-global-line",href:"/taxes/report-623",color:"pink"},{title:"Reporte IT-1",description:"Declaración mensual del ITBIS",icon:"ri-calendar-check-line",href:"/taxes/report-it1",color:"teal"},{title:"Reporte IR-17",description:"Reporte de retenciones de ISR",icon:"ri-percent-line",href:"/taxes/report-ir17",color:"cyan"},{title:"Formulario 607",description:"Registro de ventas con comprobantes fiscales NCF según DGII",icon:"ri-file-list-3-line",href:"/taxes/formulario-607",color:"purple"}],u=[{title:"ITBIS Cobrado",value:`RD$ ${i.itbis_cobrado.toLocaleString("es-DO")}`,change:"+12%",icon:"ri-money-dollar-circle-line",color:"green"},{title:"ITBIS Pagado",value:`RD$ ${i.itbis_pagado.toLocaleString("es-DO")}`,change:"+8%",icon:"ri-bank-card-line",color:"blue"},{title:"ITBIS Neto a Pagar",value:`RD$ ${i.itbis_neto.toLocaleString("es-DO")}`,change:"+15%",icon:"ri-calculator-line",color:"orange"},{title:"Retenciones",value:`RD$ ${i.retenciones.toLocaleString("es-DO")}`,change:"+5%",icon:"ri-percent-line",color:"purple"}],b=[{value:"B01",label:"B01 - Crédito Fiscal"},{value:"B02",label:"B02 - Consumidor Final"},{value:"B14",label:"B14 - Régimen Especial"},{value:"B15",label:"B15 - Gubernamental"},{value:"B16",label:"B16 - Exportaciones"}],l=d.map(s=>({type:b.find(r=>r.value===s.document_type)?.label||s.document_type,series:s.series_prefix,current:s.current_number.toString().padStart(8,"0"),remaining:s.end_number-s.current_number+1,status:s.status==="active"?"Activo":"Inactivo"})),f=[{report:"IT-1 Febrero 2024",dueDate:"20/03/2024",daysLeft:5,priority:"High"},{report:"Reporte 607 Febrero",dueDate:"29/03/2024",daysLeft:14,priority:"Medium"},{report:"IR-17 Retenciones",dueDate:"15/03/2024",daysLeft:0,priority:"Urgent"}],y=s=>{t(s)},j=s=>{s.includes("IT-1")?t("/taxes/report-it1"):s.includes("607")?t("/taxes/report-607"):s.includes("IR-17")&&t("/taxes/report-ir17")};return m?e.jsx(n,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsx(n,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Módulo de Gestión Fiscal"}),e.jsx("p",{className:"text-gray-600",children:"Sistema completo de cumplimiento fiscal para República Dominicana"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((s,r)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s.value})]}),e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-${s.color}-100`,children:e.jsx("i",{className:`${s.icon} text-xl text-${s.color}-600`})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:s.change}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes anterior"})]})]},r))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((s,r)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-${s.color}-100 mr-4`,children:e.jsx("i",{className:`${s.icon} text-xl text-${s.color}-600`})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:s.description}),e.jsx("button",{onClick:()=>y(s.href),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Acceder"})]},r))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estado de Series Fiscales"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[l.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.type}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Serie: ",s.series]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Actual: ",s.current]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.remaining}),e.jsx("p",{className:"text-xs text-gray-500",children:"disponibles"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s.status==="Activo"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]})]},r)),l.length===0&&e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx("i",{className:"ri-file-shield-line text-4xl text-gray-300 mb-2"}),e.jsx("p",{children:"No hay series fiscales configuradas"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>t("/taxes/ncf"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Configurar Series NCF"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Próximos Vencimientos Fiscales"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:f.map((s,r)=>e.jsxs("div",{className:`p-4 rounded-lg border ${s.priority==="Urgent"?"bg-red-50 border-red-200":s.priority==="High"?"bg-orange-50 border-orange-200":"bg-yellow-50 border-yellow-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s.priority==="Urgent"?"bg-red-100 text-red-800":s.priority==="High"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:s.priority==="Urgent"?"Urgente":s.priority==="High"?"Alto":"Medio"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.daysLeft===0?"Vence Hoy":`${s.daysLeft} días`})]}),e.jsx("p",{className:"font-medium text-gray-900",children:s.report}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Vence: ",s.dueDate]}),e.jsx("button",{onClick:()=>j(s.report),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm whitespace-nowrap",children:"Generar Reporte"})]},r))})})]})]})]})})}export{w as default};
//# sourceMappingURL=page-PfAFDEV2.js.map
