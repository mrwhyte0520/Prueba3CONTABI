import{r as i,j as e,D as ie}from"./index-CQa-GowG.js";function de(){const[x,$]=i.useState("dashboard"),[n,u]=i.useState([]),[j,G]=i.useState(""),[w,M]=i.useState(null),[m,F]=i.useState("cash"),[y,P]=i.useState(""),[Z,b]=i.useState(!1),[V,I]=i.useState(!1),[B,N]=i.useState(!1),[p,E]=i.useState([]),[g,C]=i.useState([]),[h,S]=i.useState([]),[D,Y]=i.useState("all"),[r,d]=i.useState({name:"",document:"",phone:"",email:"",address:"",type:"regular"});i.useEffect(()=>{R(),q(),H()},[]);const R=()=>{const s=localStorage.getItem("contabi_products");if(s){const t=JSON.parse(s).filter(l=>l.status==="active");E(t)}else E([])},q=()=>{const s=localStorage.getItem("contabi_pos_sales");C(s?JSON.parse(s):[])},H=()=>{const s=localStorage.getItem("contabi_pos_customers");S(s?JSON.parse(s):[])},U=["all","Electrónicos","Accesorios","Oficina","Hogar"],J=p.filter(s=>{const a=s.name.toLowerCase().includes(j.toLowerCase())||s.barcode.includes(j)||s.sku.toLowerCase().includes(j.toLowerCase()),t=D==="all"||s.category===D;return a&&t}),W=s=>{const a=n.find(t=>t.id===s.id);a?a.quantity<s.stock&&u(n.map(t=>t.id===s.id?{...t,quantity:t.quantity+1,total:(t.quantity+1)*t.price}:t)):u([...n,{...s,quantity:1,total:s.price}])},z=(s,a)=>{if(a<=0){L(s);return}const t=p.find(l=>l.id===s);t&&a<=t.stock&&u(n.map(l=>l.id===s?{...l,quantity:a,total:a*l.price}:l))},L=s=>{u(n.filter(a=>a.id!==s))},f=()=>n.reduce((s,a)=>s+a.total,0),k=()=>f()*.18,v=()=>f()+k(),_=()=>{const s=v(),a=parseFloat(y)||s;if(a>=s||m!=="cash"){const l=[{id:`SALE-${Date.now()}`,date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0],customer:w,items:[...n],subtotal:f(),tax:k(),total:s,paymentMethod:m,amountReceived:a,change:m==="cash"?a-s:0,status:"completed",cashier:"Admin"},...g];C(l),localStorage.setItem("contabi_pos_sales",JSON.stringify(l));const c=p.map(o=>{const T=n.find(A=>A.id===o.id);return T?{...o,stock:o.stock-T.quantity}:o}),re=JSON.parse(localStorage.getItem("contabi_products")||"[]").map(o=>c.find(A=>A.id===o.id)||o);localStorage.setItem("contabi_products",JSON.stringify(re)),window.dispatchEvent(new CustomEvent("productsUpdated")),alert(`Venta procesada exitosamente. ${m==="cash"?`Cambio: RD$${(a-s).toFixed(2)}`:""}`),u([]),M(null),P(""),I(!1),R()}else alert("Monto insuficiente")},X=()=>{if(!r.name||!r.document){alert("Nombre y documento son requeridos");return}const s={id:Date.now().toString(),...r},a=[...h,s];S(a),localStorage.setItem("contabi_pos_customers",JSON.stringify(a)),d({name:"",document:"",phone:"",email:"",address:"",type:"regular"}),N(!1),alert("Cliente agregado exitosamente")},O=()=>{const s=new Date().toISOString().split("T")[0],a=g.filter(t=>t.date===s&&t.status==="completed");return{totalSales:a.length,totalAmount:a.reduce((t,l)=>t+l.total,0),cashSales:a.filter(t=>t.paymentMethod==="cash").length,cardSales:a.filter(t=>t.paymentMethod==="card").length,transferSales:a.filter(t=>t.paymentMethod==="transfer").length}},Q=()=>{const s={};return g.forEach(a=>{a.status==="completed"&&a.items.forEach(t=>{s[t.id]?(s[t.id].quantity+=t.quantity,s[t.id].revenue+=t.total):s[t.id]={name:t.name,quantity:t.quantity,revenue:t.total}})}),Object.values(s).sort((a,t)=>t.quantity-a.quantity).slice(0,5)},K=()=>{const s=[["ID Venta","Fecha","Hora","Cliente","Subtotal","Impuesto","Total","Método Pago","Estado"].join(","),...g.map(c=>[c.id,c.date,c.time,c.customer?.name||"Cliente General",c.subtotal.toFixed(2),c.tax.toFixed(2),c.total.toFixed(2),c.paymentMethod,c.status].join(","))].join(`
`),a=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),l=URL.createObjectURL(a);t.setAttribute("href",l),t.setAttribute("download",`reporte_ventas_${new Date().toISOString().split("T")[0]}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},ee=()=>{const s=O(),a=Q();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shopping-cart-line text-blue-600 text-xl"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ventas Hoy"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalSales})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-green-600 text-xl"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Hoy"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RD$",s.totalAmount.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-purple-600 text-xl"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-box-line text-orange-600 text-xl"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Productos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Métodos de Pago Hoy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Efectivo"})]}),e.jsxs("span",{className:"text-sm font-medium",children:[s.cashSales," ventas"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Tarjeta"})]}),e.jsxs("span",{className:"text-sm font-medium",children:[s.cardSales," ventas"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-3"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Transferencia"})]}),e.jsxs("span",{className:"text-sm font-medium",children:[s.transferSales," ventas"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Productos Más Vendidos"}),e.jsx("div",{className:"space-y-3",children:a.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium mr-3",children:l+1}),e.jsx("span",{className:"text-sm text-gray-900 truncate",children:t.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[t.quantity," unidades"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["RD$",t.revenue.toLocaleString()]})]})]},l))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ventas Recientes"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.slice(0,5).map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.customer?.name||"Cliente General"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["RD$",t.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:t.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="completed"?"bg-green-100 text-green-800":t.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.status==="completed"?"Completada":t.status==="cancelled"?"Cancelada":"Reembolsada"})})]},t.id))})]})})]})]})},se=()=>e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Productos"}),e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-search-line text-gray-400"})}),e.jsx("input",{type:"text",value:j,onChange:s=>G(s.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar productos..."})]}),e.jsx("select",{value:D,onChange:s=>Y(s.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8",children:U.map(s=>e.jsx("option",{value:s,children:s==="all"?"Todas las categorías":s},s))})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:J.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>W(s),children:[e.jsx("div",{className:"w-full h-32 mb-3 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover object-top",onError:a=>{const t=a.target;t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNTAgMTAwQzE2MS4wNDYgMTAwIDE3MCA5MC45NTQzIDE3MCA4MEM1NyA2OS4wNDU3IDE0Ny45NTQgNjAgMTM2IDYwQzEyNC45NTQgNjAgMTE2IDY5LjA0NTcgMTE2IDgwQzExNiA5MC45NTQzIDEyNC45NTQgMTAwIDEzNiAxMDBIMTUwWiIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNMTg2IDEyMEgxMTRDMTA3LjM3MyAxMjAgMTAyIDEyNS4zNzMgMTAyIDEzMlYyMDBDMTAyIDIwNi2MjcgMTA3LjM3MyAyMTIgMTE0IDIxMkgxODZDMTkyLjYyNyAyMTIgMTk4IDIwNi4yMjJgMTk0IDIwMFYxMzJDMTk0IDEyNS4zNzMgMTkyLjYyNyAxMjAgMTg2IDEyMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+"}})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:s.category}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${s.stock>10?"bg-green-100 text-green-800":s.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Stock: ",s.stock]})]}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2 text-sm",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["RD$",s.price.toLocaleString()]}),e.jsx("button",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:e.jsx("i",{className:"ri-add-line"})})]})]},s.id))})]}),e.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Carrito de Compras"}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>b(!0),className:"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-user-line text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:w?w.name:"Seleccionar Cliente"})]}),e.jsx("i",{className:"ri-arrow-down-s-line text-gray-400"})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.length===0?e.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[e.jsx("i",{className:"ri-shopping-cart-line text-4xl mb-2"}),e.jsx("p",{children:"Carrito vacío"})]}):e.jsx("div",{className:"space-y-4",children:n.map(s=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden mr-3 flex-shrink-0",children:e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover object-top",onError:a=>{const t=a.target;t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyMEMyNi4yMDkxIDIwIDI4IDE4LjIwOTEgMjggMTZDMjggMTMuNzkwOSAyNi4yMDkxIDEyIDI0IDEyQzIxLjc5MDkgMTIgMjAgMTMuNzkwOSAyMCAxNkMyMCAxOC4yMDkxIDIxLjc5MDkgMjAgMjQgMjBaIiBmaWxsPSIjOUNBM0FGIi8+CjxwYXRoIGQ9Ik0zMiAyNEgxNkMxNC44OTU0IDI0IDE0IDI0Ljg5NTQgMTQgMjZWMzRDMTQgMzUuMTA0NiAxNC44OTU0IDM2IDE2IDM2SDMyQzMzLjEwNDYgMzYgMzQgMzUuMTA0NiAzNCAzNFYyNkMzNCAyNC44OTU0IDMzLjEwNDYgMjQgMzIgMjRaIiBmaWxsPSIjOUNBM0FGIi8+Cjwvc3ZnPg=="}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["RD$",s.price.toLocaleString()," c/u"]}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["RD$",s.total.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[e.jsx("button",{onClick:()=>z(s.id,s.quantity-1),className:"w-6 h-6 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx("i",{className:"ri-subtract-line text-xs"})}),e.jsx("span",{className:"w-8 text-center text-sm font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>z(s.id,s.quantity+1),className:"w-6 h-6 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx("i",{className:"ri-add-line text-xs"})}),e.jsx("button",{onClick:()=>L(s.id),className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center hover:bg-red-200 transition-colors ml-2",children:e.jsx("i",{className:"ri-delete-bin-line text-xs"})})]})]},s.id))})}),n.length>0&&e.jsxs("div",{className:"p-6 border-t border-gray-200",children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["RD$",f().toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ITBIS (18%):"}),e.jsxs("span",{children:["RD$",k().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["RD$",v().toFixed(2)]})]})]}),e.jsx("button",{onClick:()=>I(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Procesar Pago"})]})]})]}),te=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Historial de Ventas"}),e.jsxs("button",{onClick:K,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-download-line mr-2"}),"Exportar Reporte"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Venta"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.id}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.date," ",s.time]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.customer?.name||"Cliente General"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.items.length," productos"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["RD$",s.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:s.paymentMethod==="cash"?"Efectivo":s.paymentMethod==="card"?"Tarjeta":"Transferencia"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="completed"?"Completada":s.status==="cancelled"?"Cancelada":"Reembolsada"})})]},s.id))})]})})})]}),ae=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gestión de Clientes"}),e.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Nuevo Cliente"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="vip"?"bg-yellow-100":"bg-gray-100"}`,children:e.jsx("i",{className:`${s.type==="vip"?"ri-vip-crown-line text-yellow-600":"ri-user-line text-gray-600"}`})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.document})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s.type==="vip"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.type==="vip"?"VIP":"Regular"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-phone-line mr-2"}),e.jsx("span",{children:s.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-mail-line mr-2"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-map-pin-line mr-2"}),e.jsx("span",{className:"truncate",children:s.address})]})]})]},s.id))})]}),le=()=>{const s=O(),a=Q();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Reportes y Análisis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen del Día"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Ventas:"}),e.jsx("span",{className:"font-medium",children:s.totalSales})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ingresos:"}),e.jsxs("span",{className:"font-medium",children:["RD$",s.totalAmount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Promedio por Venta:"}),e.jsxs("span",{className:"font-medium",children:["RD$",s.totalSales>0?(s.totalAmount/s.totalSales).toFixed(0):"0"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Métodos de Pago"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Efectivo:"}),e.jsxs("span",{className:"font-medium",children:[s.cashSales," ventas"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tarjeta:"}),e.jsxs("span",{className:"font-medium",children:[s.cardSales," ventas"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Transferencia:"}),e.jsxs("span",{className:"font-medium",children:[s.transferSales," ventas"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estadísticas Generales"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Clientes:"}),e.jsx("span",{className:"font-medium",children:h.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Clientes VIP:"}),e.jsx("span",{className:"font-medium",children:h.filter(t=>t.type==="vip").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Productos Activos:"}),e.jsx("span",{className:"font-medium",children:p.length})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Productos Más Vendidos"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posición"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad Vendida"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingresos"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((t,l)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:l+1})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[t.quantity," unidades"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["RD$",t.revenue.toLocaleString()]})]},l))})]})})]})]})};return e.jsx(ie,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Punto de Ventas"}),e.jsx("p",{className:"text-gray-600",children:"Sistema completo de ventas y gestión"})]}),e.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Volver al Inicio"]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"ri-dashboard-line"},{id:"pos",name:"Punto de Venta",icon:"ri-shopping-cart-line"},{id:"sales",name:"Ventas",icon:"ri-file-list-line"},{id:"customers",name:"Clientes",icon:"ri-user-line"},{id:"reports",name:"Reportes",icon:"ri-bar-chart-line"}].map(s=>e.jsxs("button",{onClick:()=>$(s.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${x===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:`${s.icon} mr-2`}),s.name]},s.id))})}),x==="dashboard"&&ee(),x==="pos"&&se(),x==="sales"&&te(),x==="customers"&&ae(),x==="reports"&&le(),Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Seleccionar Cliente"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{M(null),b(!1)},className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg border",children:[e.jsx("div",{className:"font-medium",children:"Cliente General"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Sin información específica"})]}),h.map(s=>e.jsx("button",{onClick:()=>{M(s),b(!1)},className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.document})]}),s.type==="vip"&&e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"VIP"})]})},s.id))]})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Procesar Pago"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-center mb-4",children:["Total: RD$",v().toFixed(2)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pago"}),e.jsxs("select",{value:m,onChange:s=>F(s.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"cash",children:"Efectivo"}),e.jsx("option",{value:"card",children:"Tarjeta"}),e.jsx("option",{value:"transfer",children:"Transferencia"})]})]}),m==="cash"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto Recibido"}),e.jsx("input",{type:"number",value:y,onChange:s=>P(s.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"}),y&&e.jsxs("div",{className:"mt-2 text-sm",children:["Cambio: RD$",Math.max(0,parseFloat(y)-v()).toFixed(2)]})]})]}),e.jsx("button",{onClick:_,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors whitespace-nowrap",children:"Confirmar Pago"})]})}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Nuevo Cliente"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),X()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>d({...r,name:s.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Documento *"}),e.jsx("input",{type:"text",value:r.document,onChange:s=>d({...r,document:s.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"001-1234567-8",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),e.jsx("input",{type:"tel",value:r.phone,onChange:s=>d({...r,phone:s.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"809-123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>d({...r,email:s.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"cliente@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),e.jsx("textarea",{value:r.address,onChange:s=>d({...r,address:s.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2,placeholder:"Dirección completa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Cliente"}),e.jsxs("select",{value:r.type,onChange:s=>d({...r,type:s.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"regular",children:"Regular"}),e.jsx("option",{value:"vip",children:"VIP"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Guardar Cliente"})]})]})]})})]})})}export{de as default};
//# sourceMappingURL=page-CvhY4MKL.js.map
