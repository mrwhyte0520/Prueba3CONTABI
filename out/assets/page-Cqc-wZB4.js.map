{"version":3,"file":"page-Cqc-wZB4.js","sources":["../../src/pages/accounting/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport DashboardLayout from '../../components/layout/DashboardLayout';\nimport { chartAccountsService, journalEntriesService } from '../../services/database';\nimport { useAuth } from '../../hooks/useAuth';\n\ninterface JournalEntry {\n  id: string;\n  entry_number: string;\n  entry_date: string;\n  description: string;\n  reference: string;\n  total_debit: number;\n  total_credit: number;\n  status: string;\n  created_at: string;\n  journal_entry_lines?: any[];\n}\n\ninterface ChartAccount {\n  id: string;\n  code: string;\n  name: string;\n  type: string;\n  balance: number;\n  is_active: boolean;\n  normal_balance: string;\n  allow_posting: boolean;\n  level: number;\n}\n\nexport default function AccountingPage() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [accounts, setAccounts] = useState<ChartAccount[]>([]);\n  const [journalEntries, setJournalEntries] = useState<JournalEntry[]>([]);\n  const [showJournalModal, setShowJournalModal] = useState(false);\n  const [showReportModal, setShowReportModal] = useState(false);\n  const [selectedReport, setSelectedReport] = useState('');\n  const [reportLoading, setReportLoading] = useState(false);\n\n  const [journalForm, setJournalForm] = useState({\n    entry_number: '',\n    entry_date: new Date().toISOString().split('T')[0],\n    description: '',\n    reference: '',\n    lines: [\n      { account_id: '', description: '', debit: '', credit: '' },\n      { account_id: '', description: '', debit: '', credit: '' }\n    ]\n  });\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const [accountsData, entriesData] = await Promise.all([\n        chartAccountsService.getAll(user?.id || ''),\n        journalEntriesService.getAll(user?.id || '')\n      ]);\n      \n      setAccounts(accountsData);\n      setJournalEntries(entriesData);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateEntryNumber = () => {\n    const timestamp = Date.now().toString().slice(-6);\n    return `JE-${timestamp}`;\n  };\n\n  const handleAddJournalLine = () => {\n    setJournalForm(prev => ({\n      ...prev,\n      lines: [...prev.lines, { account_id: '', description: '', debit: '', credit: '' }]\n    }));\n  };\n\n  const handleRemoveJournalLine = (index: number) => {\n    if (journalForm.lines.length > 2) {\n      setJournalForm(prev => ({\n        ...prev,\n        lines: prev.lines.filter((_, i) => i !== index)\n      }));\n    }\n  };\n\n  const handleJournalLineChange = (index: number, field: string, value: string) => {\n    setJournalForm(prev => ({\n      ...prev,\n      lines: prev.lines.map((line, i) => \n        i === index ? { ...line, [field]: value } : line\n      )\n    }));\n  };\n\n  const calculateTotals = () => {\n    const totalDebit = journalForm.lines.reduce((sum, line) => sum + (parseFloat(line.debit) || 0), 0);\n    const totalCredit = journalForm.lines.reduce((sum, line) => sum + (parseFloat(line.credit) || 0), 0);\n    return { totalDebit, totalCredit };\n  };\n\n  const handleSubmitJournal = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const { totalDebit, totalCredit } = calculateTotals();\n    \n    if (Math.abs(totalDebit - totalCredit) > 0.01) {\n      alert('Los débitos y créditos deben estar balanceados.');\n      return;\n    }\n\n    try {\n      const entry = {\n        entry_number: journalForm.entry_number || generateEntryNumber(),\n        entry_date: journalForm.entry_date,\n        description: journalForm.description,\n        reference: journalForm.reference,\n        total_debit: totalDebit,\n        total_credit: totalCredit,\n        status: 'posted'\n      };\n\n      const lines = journalForm.lines\n        .filter(line => line.account_id && (line.debit || line.credit))\n        .map(line => ({\n          account_id: line.account_id,\n          description: line.description,\n          debit_amount: parseFloat(line.debit) || 0,\n          credit_amount: parseFloat(line.credit) || 0\n        }));\n\n      await journalEntriesService.createWithLines(user?.id || '', entry, lines);\n      await loadData();\n      \n      setJournalForm({\n        entry_number: '',\n        entry_date: new Date().toISOString().split('T')[0],\n        description: '',\n        reference: '',\n        lines: [\n          { account_id: '', description: '', debit: '', credit: '' },\n          { account_id: '', description: '', debit: '', credit: '' }\n        ]\n      });\n      setShowJournalModal(false);\n      alert('Asiento contable creado exitosamente.');\n    } catch (error) {\n      console.error('Error creating journal entry:', error);\n      alert('Error al crear el asiento contable. Intente nuevamente.');\n    }\n  };\n\n  const handleGenerateReport = async (reportType: string) => {\n    setReportLoading(true);\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      const firstDayOfMonth = new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0];\n      \n      let reportData;\n      let filename = '';\n      let content = '';\n\n      switch (reportType) {\n        case 'balance-sheet':\n          reportData = await chartAccountsService.generateBalanceSheet(user?.id || '', today);\n          filename = `balance_general_${today}.csv`;\n          content = generateBalanceSheetCSV(reportData);\n          break;\n\n        case 'income-statement':\n          reportData = await chartAccountsService.generateIncomeStatement(user?.id || '', firstDayOfMonth, today);\n          filename = `estado_resultados_${today}.csv`;\n          content = generateIncomeStatementCSV(reportData);\n          break;\n\n        case 'trial-balance':\n          reportData = await chartAccountsService.generateTrialBalance(user?.id || '', today);\n          filename = `balanza_comprobacion_${today}.csv`;\n          content = generateTrialBalanceCSV(reportData);\n          break;\n\n        case 'cash-flow':\n          reportData = await chartAccountsService.generateCashFlowStatement(user?.id || '', firstDayOfMonth, today);\n          filename = `flujo_efectivo_${today}.csv`;\n          content = generateCashFlowCSV(reportData);\n          break;\n\n        case 'general-ledger':\n          const entries = await journalEntriesService.getAll(user?.id || '');\n          filename = `mayor_general_${today}.csv`;\n          content = generateGeneralLedgerCSV(entries);\n          break;\n\n        case 'journal-report':\n          const journalData = await journalEntriesService.getAll(user?.id || '');\n          filename = `libro_diario_${today}.csv`;\n          content = generateJournalReportCSV(journalData);\n          break;\n\n        default:\n          alert('Tipo de reporte no soportado');\n          return;\n      }\n\n      // Descargar el archivo\n      const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', filename);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      alert(`Reporte ${getReportName(reportType)} generado exitosamente.`);\n    } catch (error) {\n      console.error('Error generating report:', error);\n      alert('Error al generar el reporte. Intente nuevamente.');\n    } finally {\n      setReportLoading(false);\n    }\n  };\n\n  const getReportName = (reportType: string) => {\n    const names: { [key: string]: string } = {\n      'balance-sheet': 'Balance General',\n      'income-statement': 'Estado de Resultados',\n      'trial-balance': 'Balanza de Comprobación',\n      'cash-flow': 'Flujo de Efectivo',\n      'general-ledger': 'Mayor General',\n      'journal-report': 'Libro Diario'\n    };\n    return names[reportType] || reportType;\n  };\n\n  const generateBalanceSheetCSV = (data: any) => {\n    let csv = 'BALANCE GENERAL\\n';\n    csv += `Al ${new Date(data.asOfDate).toLocaleDateString()}\\n\\n`;\n    \n    csv += 'ACTIVOS\\n';\n    csv += 'Código,Nombre,Saldo\\n';\n    data.assets.forEach((account: any) => {\n      csv += `${account.code},${account.name},${account.balance.toLocaleString()}\\n`;\n    });\n    csv += `TOTAL ACTIVOS,,${data.totalAssets.toLocaleString()}\\n\\n`;\n\n    csv += 'PASIVOS\\n';\n    csv += 'Código,Nombre,Saldo\\n';\n    data.liabilities.forEach((account: any) => {\n      csv += `${account.code},${account.name},${account.balance.toLocaleString()}\\n`;\n    });\n    csv += `TOTAL PASIVOS,,${data.totalLiabilities.toLocaleString()}\\n\\n`;\n\n    csv += 'PATRIMONIO\\n';\n    csv += 'Código,Nombre,Saldo\\n';\n    data.equity.forEach((account: any) => {\n      csv += `${account.code},${account.name},${account.balance.toLocaleString()}\\n`;\n    });\n    csv += `TOTAL PATRIMONIO,,${data.totalEquity.toLocaleString()}\\n\\n`;\n\n    csv += `TOTAL PASIVOS + PATRIMONIO,,${(data.totalLiabilities + data.totalEquity).toLocaleString()}\\n`;\n\n    return csv;\n  };\n\n  const generateIncomeStatementCSV = (data: any) => {\n    let csv = 'ESTADO DE RESULTADOS\\n';\n    csv += `Del ${new Date(data.fromDate).toLocaleDateString()} al ${new Date(data.toDate).toLocaleDateString()}\\n\\n`;\n    \n    csv += 'INGRESOS\\n';\n    csv += 'Código,Nombre,Saldo\\n';\n    data.income.forEach((account: any) => {\n      csv += `${account.code},${account.name},${account.balance.toLocaleString()}\\n`;\n    });\n    csv += `TOTAL INGRESOS,,${data.totalIncome.toLocaleString()}\\n\\n`;\n\n    csv += 'GASTOS\\n';\n    csv += 'Código,Nombre,Saldo\\n';\n    data.expenses.forEach((account: any) => {\n      csv += `${account.code},${account.name},${account.balance.toLocaleString()}\\n`;\n    });\n    csv += `TOTAL GASTOS,,${data.totalExpenses.toLocaleString()}\\n\\n`;\n\n    csv += `UTILIDAD NETA,,${data.netIncome.toLocaleString()}\\n`;\n\n    return csv;\n  };\n\n  const generateTrialBalanceCSV = (data: any) => {\n    let csv = 'BALANZA DE COMPROBACIÓN\\n';\n    csv += `Al ${new Date(data.asOfDate).toLocaleDateString()}\\n\\n`;\n    csv += 'Código,Nombre,Débito,Crédito\\n';\n    \n    data.accounts.forEach((account: any) => {\n      csv += `${account.code},${account.name},${account.debitBalance.toLocaleString()},${account.creditBalance.toLocaleString()}\\n`;\n    });\n    \n    csv += `TOTALES,,${data.totalDebits.toLocaleString()},${data.totalCredits.toLocaleString()}\\n`;\n    csv += `BALANCEADO,,${data.isBalanced ? 'SÍ' : 'NO'}\\n`;\n\n    return csv;\n  };\n\n  const generateCashFlowCSV = (data: any) => {\n    let csv = 'ESTADO DE FLUJO DE EFECTIVO\\n';\n    csv += `Del ${new Date(data.fromDate).toLocaleDateString()} al ${new Date(data.toDate).toLocaleDateString()}\\n\\n`;\n    \n    csv += 'Concepto,Monto\\n';\n    csv += `Flujo de Efectivo Operativo,${data.operatingCashFlow.toLocaleString()}\\n`;\n    csv += `Flujo de Efectivo de Inversión,${data.investingCashFlow.toLocaleString()}\\n`;\n    csv += `Flujo de Efectivo de Financiamiento,${data.financingCashFlow.toLocaleString()}\\n`;\n    csv += `Flujo Neto de Efectivo,${data.netCashFlow.toLocaleString()}\\n`;\n\n    return csv;\n  };\n\n  const generateGeneralLedgerCSV = (entries: any[]) => {\n    let csv = 'MAYOR GENERAL\\n';\n    csv += `Generado el ${new Date().toLocaleDateString()}\\n\\n`;\n    csv += 'Fecha,Número,Descripción,Cuenta,Débito,Crédito\\n';\n    \n    entries.forEach(entry => {\n      entry.journal_entry_lines?.forEach((line: any) => {\n        csv += `${new Date(entry.entry_date).toLocaleDateString()},${entry.entry_number},${entry.description},${line.chart_accounts?.code} - ${line.chart_accounts?.name},${(line.debit_amount || 0).toLocaleString()},${(line.credit_amount || 0).toLocaleString()}\\n`;\n      });\n    });\n\n    return csv;\n  };\n\n  const generateJournalReportCSV = (entries: any[]) => {\n    let csv = 'LIBRO DIARIO\\n';\n    csv += `Generado el ${new Date().toLocaleDateString()}\\n\\n`;\n    csv += 'Fecha,Número,Descripción,Referencia,Débito Total,Crédito Total\\n';\n    \n    entries.forEach(entry => {\n      csv += `${new Date(entry.entry_date).toLocaleDateString()},${entry.entry_number},${entry.description},${entry.reference || ''},${entry.total_debit.toLocaleString()},${entry.total_credit.toLocaleString()}\\n`;\n    });\n\n    return csv;\n  };\n\n  const getAccountsByType = (type: string) => {\n    return accounts.filter(account => account.type === type);\n  };\n\n  const calculateAccountTypeTotal = (type: string) => {\n    return getAccountsByType(type).reduce((sum, account) => sum + (account.balance || 0), 0);\n  };\n\n  const { totalDebit, totalCredit } = calculateTotals();\n\n  if (loading) {\n    return (\n      <DashboardLayout>\n        <div className=\"p-6 flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Cargando datos contables...</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Contabilidad</h1>\n            <p className=\"text-gray-600 mt-1\">Sistema completo de gestión contable</p>\n          </div>\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={() => setShowJournalModal(true)}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-add-line mr-2\"></i>\n              Nuevo Asiento\n            </button>\n          </div>\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Acciones Rápidas</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <button \n              onClick={() => navigate('/accounting/general-journal')}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap cursor-pointer\"\n            >\n              <i className=\"ri-add-line mr-2\"></i>\n              Nuevo Asiento\n            </button>\n            \n            <button \n              onClick={() => navigate('/accounting/financial-statements')}\n              className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors whitespace-nowrap cursor-pointer\"\n            >\n              <i className=\"ri-file-chart-line mr-2\"></i>\n              Estados Financieros\n            </button>\n            \n            <button \n              onClick={() => navigate('/accounting/bank-reconciliation')}\n              className=\"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors whitespace-nowrap cursor-pointer\"\n            >\n              <i className=\"ri-bank-line mr-2\"></i>\n              Conciliación Bancaria\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"border-b border-gray-200 mb-6\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {[\n              { id: 'overview', label: 'Resumen', icon: 'ri-dashboard-line' },\n              { id: 'journal', label: 'Libro Diario', icon: 'ri-book-line' },\n              { id: 'ledger', label: 'Mayor General', icon: 'ri-file-list-line' },\n              { id: 'reports', label: 'Reportes', icon: 'ri-bar-chart-line' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${\n                  activeTab === tab.id\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <i className={`${tab.icon} mr-2`}></i>\n                {tab.label}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 'overview' && (\n          <div className=\"space-y-6\">\n            {/* Summary Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\n                    <i className=\"ri-money-dollar-circle-line text-2xl text-blue-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Activos Totales</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">\n                      RD${calculateAccountTypeTotal('asset').toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-red-100 rounded-lg\">\n                    <i className=\"ri-bank-card-line text-2xl text-red-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Pasivos Totales</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">\n                      RD${calculateAccountTypeTotal('liability').toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\n                    <i className=\"ri-pie-chart-line text-2xl text-green-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Patrimonio</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">\n                      RD${calculateAccountTypeTotal('equity').toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-purple-100 rounded-lg\">\n                    <i className=\"ri-line-chart-line text-2xl text-purple-600\"></i>\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Ingresos</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">\n                      RD${calculateAccountTypeTotal('income').toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Recent Journal Entries */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Asientos Recientes</h3>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Número\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Fecha\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Descripción\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Débito\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Crédito\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {journalEntries.slice(0, 5).map((entry) => (\n                      <tr key={entry.id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                          {entry.entry_number}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {new Date(entry.entry_date).toLocaleDateString()}\n                        </td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">\n                          {entry.description}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                          RD${entry.total_debit.toLocaleString()}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                          RD${entry.total_credit.toLocaleString()}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n                {journalEntries.length === 0 && (\n                  <div className=\"text-center py-8\">\n                    <i className=\"ri-file-list-line text-4xl text-gray-300 mb-4 block\"></i>\n                    <p className=\"text-gray-500\">No hay asientos contables registrados</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'journal' && (\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Libro Diario</h3>\n              <button\n                onClick={() => setShowJournalModal(true)}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>\n                Nuevo Asiento\n              </button>\n            </div>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Número\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Fecha\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Descripción\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Referencia\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Débito\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Crédito\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Estado\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {journalEntries.map((entry) => (\n                    <tr key={entry.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                        {entry.entry_number}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {new Date(entry.entry_date).toLocaleDateString()}\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\n                        {entry.description}\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-gray-500\">\n                        {entry.reference}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        RD${entry.total_debit.toLocaleString()}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        RD${entry.total_credit.toLocaleString()}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                          {entry.status}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              {journalEntries.length === 0 && (\n                <div className=\"text-center py-8\">\n                  <i className=\"ri-book-line text-4xl text-gray-300 mb-4 block\"></i>\n                  <p className=\"text-gray-500 mb-4\">No hay asientos en el libro diario</p>\n                  <button\n                    onClick={() => setShowJournalModal(true)}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n                  >\n                    <i className=\"ri-add-line mr-2\"></i>\n                    Crear Primer Asiento\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'ledger' && (\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Mayor General</h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {['asset', 'liability', 'equity', 'income', 'expense'].map((type) => (\n                  <div key={type} className=\"border border-gray-200 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-gray-900 mb-3 capitalize\">\n                      {type === 'asset' ? 'Activos' : \n                       type === 'liability' ? 'Pasivos' :\n                       type === 'equity' ? 'Patrimonio' :\n                       type === 'income' ? 'Ingresos' : 'Gastos'}\n                    </h4>\n                    <div className=\"space-y-2\">\n                      {getAccountsByType(type).slice(0, 5).map((account) => (\n                        <div key={account.id} className=\"flex justify-between text-sm\">\n                          <span className=\"text-gray-600\">{account.code} - {account.name}</span>\n                          <span className=\"font-medium\">RD${(account.balance || 0).toLocaleString()}</span>\n                        </div>\n                      ))}\n                      {getAccountsByType(type).length === 0 && (\n                        <p className=\"text-sm text-gray-500\">No hay cuentas registradas</p>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'reports' && (\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Reportes Contables</h3>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {[\n                  { id: 'balance-sheet', name: 'Balance General', icon: 'ri-scales-line', description: 'Estado de situación financiera' },\n                  { id: 'income-statement', name: 'Estado de Resultados', icon: 'ri-line-chart-line', description: 'Ingresos y gastos del período' },\n                  { id: 'cash-flow', name: 'Flujo de Efectivo', icon: 'ri-money-dollar-circle-line', description: 'Movimientos de efectivo' },\n                  { id: 'trial-balance', name: 'Balanza de Comprobación', icon: 'ri-calculator-line', description: 'Saldos de todas las cuentas' },\n                  { id: 'general-ledger', name: 'Mayor General', icon: 'ri-book-open-line', description: 'Detalle de movimientos por cuenta' },\n                  { id: 'journal-report', name: 'Libro Diario', icon: 'ri-file-list-line', description: 'Registro cronológico de asientos' }\n                ].map((report) => (\n                  <div key={report.id} className=\"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors\">\n                    <div className=\"flex items-center mb-3\">\n                      <div className=\"p-2 bg-blue-100 rounded-lg mr-3\">\n                        <i className={`${report.icon} text-xl text-blue-600`}></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{report.name}</h4>\n                        <p className=\"text-sm text-gray-500\">{report.description}</p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleGenerateReport(report.id)}\n                      disabled={reportLoading}\n                      className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap disabled:opacity-50\"\n                    >\n                      {reportLoading ? (\n                        <>\n                          <i className=\"ri-loader-4-line mr-2 animate-spin\"></i>\n                          Generando...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"ri-download-line mr-2\"></i>\n                          Generar Reporte\n                        </>\n                      )}\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Journal Entry Modal */}\n        {showJournalModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-xl font-semibold text-gray-900\">Nuevo Asiento Contable</h2>\n                  <button\n                    onClick={() => setShowJournalModal(false)}\n                    className=\"text-gray-400 hover:text-gray-600\"\n                  >\n                    <i className=\"ri-close-line text-xl\"></i>\n                  </button>\n                </div>\n\n                <form onSubmit={handleSubmitJournal} className=\"space-y-6\">\n                  {/* Header Info */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Número de Asiento\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={journalForm.entry_number}\n                        onChange={(e) => setJournalForm(prev => ({ ...prev, entry_number: e.target.value }))}\n                        placeholder={generateEntryNumber()}\n                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Fecha *\n                      </label>\n                      <input\n                        type=\"date\"\n                        required\n                        value={journalForm.entry_date}\n                        onChange={(e) => setJournalForm(prev => ({ ...prev, entry_date: e.target.value }))}\n                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Referencia\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={journalForm.reference}\n                        onChange={(e) => setJournalForm(prev => ({ ...prev, reference: e.target.value }))}\n                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Descripción *\n                    </label>\n                    <textarea\n                      required\n                      value={journalForm.description}\n                      onChange={(e) => setJournalForm(prev => ({ ...prev, description: e.target.value }))}\n                      rows={3}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n\n                  {/* Journal Lines */}\n                  <div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <h3 className=\"text-lg font-medium text-gray-900\">Líneas del Asiento</h3>\n                      <button\n                        type=\"button\"\n                        onClick={handleAddJournalLine}\n                        className=\"bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n                      >\n                        <i className=\"ri-add-line mr-1\"></i>\n                        Agregar Línea\n                      </button>\n                    </div>\n\n                    <div className=\"space-y-3\">\n                      {journalForm.lines.map((line, index) => (\n                        <div key={index} className=\"grid grid-cols-12 gap-3 items-center\">\n                          <div className=\"col-span-4\">\n                            <select\n                              value={line.account_id}\n                              onChange={(e) => handleJournalLineChange(index, 'account_id', e.target.value)}\n                              className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8\"\n                              required\n                            >\n                              <option value=\"\">Seleccionar cuenta</option>\n                              {accounts.filter(acc => acc.is_active && acc.allow_posting).map((account) => (\n                                <option key={account.id} value={account.id}>\n                                  {account.code} - {account.name}\n                                </option>\n                              ))}\n                            </select>\n                          </div>\n                          <div className=\"col-span-3\">\n                            <input\n                              type=\"text\"\n                              value={line.description}\n                              onChange={(e) => handleJournalLineChange(index, 'description', e.target.value)}\n                              placeholder=\"Descripción\"\n                              className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                            />\n                          </div>\n                          <div className=\"col-span-2\">\n                            <input\n                              type=\"number\"\n                              step=\"0.01\"\n                              value={line.debit}\n                              onChange={(e) => handleJournalLineChange(index, 'debit', e.target.value)}\n                              placeholder=\"Débito\"\n                              className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                            />\n                          </div>\n                          <div className=\"col-span-2\">\n                            <input\n                              type=\"number\"\n                              step=\"0.01\"\n                              value={line.credit}\n                              onChange={(e) => handleJournalLineChange(index, 'credit', e.target.value)}\n                              placeholder=\"Crédito\"\n                              className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                            />\n                          </div>\n                          <div className=\"col-span-1\">\n                            <button\n                              type=\"button\"\n                              onClick={() => handleRemoveJournalLine(index)}\n                              disabled={journalForm.lines.length <= 2}\n                              className=\"text-red-600 hover:text-red-900 disabled:text-gray-400 disabled:cursor-not-allowed\"\n                            >\n                              <i className=\"ri-delete-bin-line\"></i>\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* Totals */}\n                    <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                      <div className=\"flex justify-between items-center\">\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Total Débito: </span>\n                          <span className=\"text-blue-600\">RD${totalDebit.toLocaleString()}</span>\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Total Crédito: </span>\n                          <span className=\"text-green-600\">RD${totalCredit.toLocaleString()}</span>\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Diferencia: </span>\n                          <span className={`${Math.abs(totalDebit - totalCredit) < 0.01 ? 'text-green-600' : 'text-red-600'}`}>\n                            RD${Math.abs(totalDebit - totalCredit).toLocaleString()}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex space-x-3 pt-4\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowJournalModal(false)}\n                      className=\"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap\"\n                    >\n                      Cancelar\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={Math.abs(totalDebit - totalCredit) > 0.01}\n                      className=\"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Crear Asiento\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["AccountingPage","navigate","useNavigate","user","useAuth","activeTab","setActiveTab","useState","loading","setLoading","accounts","setAccounts","journalEntries","setJournalEntries","showJournalModal","setShowJournalModal","showReportModal","setShowReportModal","selectedReport","setSelectedReport","reportLoading","setReportLoading","journalForm","setJournalForm","useEffect","loadData","accountsData","entriesData","chartAccountsService","journalEntriesService","error","generateEntryNumber","handleAddJournalLine","prev","handleRemoveJournalLine","index","_","i","handleJournalLineChange","field","value","line","calculateTotals","totalDebit","sum","totalCredit","handleSubmitJournal","e","entry","lines","handleGenerateReport","reportType","today","firstDayOfMonth","reportData","filename","content","generateBalanceSheetCSV","generateIncomeStatementCSV","generateTrialBalanceCSV","generateCashFlowCSV","entries","generateGeneralLedgerCSV","journalData","generateJournalReportCSV","blob","link","url","getReportName","data","csv","account","getAccountsByType","type","calculateAccountTypeTotal","jsx","DashboardLayout","jsxs","tab","report","Fragment","acc"],"mappings":"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"}