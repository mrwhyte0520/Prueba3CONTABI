{"version":3,"file":"page-CvhY4MKL.js","sources":["../../src/pages/pos/page.tsx"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport DashboardLayout from '../../components/layout/DashboardLayout';\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n  stock: number;\n  category: string;\n  barcode: string;\n  imageUrl: string;\n  sku: string;\n  cost: number;\n  minStock: number;\n  maxStock: number;\n  description: string;\n  supplier: string;\n  status: 'active' | 'inactive';\n}\n\ninterface CartItem extends Product {\n  quantity: number;\n  total: number;\n}\n\ninterface Customer {\n  id: string;\n  name: string;\n  document: string;\n  phone: string;\n  email: string;\n  address: string;\n  type: 'regular' | 'vip';\n}\n\ninterface Sale {\n  id: string;\n  date: string;\n  time: string;\n  customer: Customer | null;\n  items: CartItem[];\n  subtotal: number;\n  tax: number;\n  total: number;\n  paymentMethod: string;\n  amountReceived: number;\n  change: number;\n  status: 'completed' | 'cancelled' | 'refunded';\n  cashier: string;\n}\n\nexport default function POSPage() {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\n  const [paymentMethod, setPaymentMethod] = useState('cash');\n  const [amountReceived, setAmountReceived] = useState('');\n  const [showCustomerModal, setShowCustomerModal] = useState(false);\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [showNewCustomerModal, setShowNewCustomerModal] = useState(false);\n  const [products, setProducts] = useState<Product[]>([]);\n  const [sales, setSales] = useState<Sale[]>([]);\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [newCustomer, setNewCustomer] = useState({\n    name: '',\n    document: '',\n    phone: '',\n    email: '',\n    address: '',\n    type: 'regular' as 'regular' | 'vip'\n  });\n\n  // Load data from localStorage\n  useEffect(() => {\n    loadProducts();\n    loadSales();\n    loadCustomers();\n  }, []);\n\n  const loadProducts = () => {\n    const savedProducts = localStorage.getItem('contabi_products');\n    if (savedProducts) {\n      const parsedProducts = JSON.parse(savedProducts);\n      const activeProducts = parsedProducts.filter((product: Product) => product.status === 'active');\n      setProducts(activeProducts);\n    } else {\n      setProducts([]);\n    }\n  };\n\n  const loadSales = () => {\n    const savedSales = localStorage.getItem('contabi_pos_sales');\n    if (savedSales) {\n      setSales(JSON.parse(savedSales));\n    } else {\n      setSales([]);\n    }\n  };\n\n  const loadCustomers = () => {\n    const savedCustomers = localStorage.getItem('contabi_pos_customers');\n    if (savedCustomers) {\n      setCustomers(JSON.parse(savedCustomers));\n    } else {\n      setCustomers([]);\n    }\n  };\n\n  const categories = ['all', 'Electrónicos', 'Accesorios', 'Oficina', 'Hogar'];\n\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         product.barcode.includes(searchTerm) ||\n                         product.sku.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = selectedCategory === 'all' || product.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  const addToCart = (product: Product) => {\n    const existingItem = cart.find(item => item.id === product.id);\n    \n    if (existingItem) {\n      if (existingItem.quantity < product.stock) {\n        setCart(cart.map(item =>\n          item.id === product.id\n            ? { ...item, quantity: item.quantity + 1, total: (item.quantity + 1) * item.price }\n            : item\n        ));\n      }\n    } else {\n      setCart([...cart, { ...product, quantity: 1, total: product.price }]);\n    }\n  };\n\n  const updateQuantity = (id: string, quantity: number) => {\n    if (quantity <= 0) {\n      removeFromCart(id);\n      return;\n    }\n\n    const product = products.find(p => p.id === id);\n    if (product && quantity <= product.stock) {\n      setCart(cart.map(item =>\n        item.id === id\n          ? { ...item, quantity, total: quantity * item.price }\n          : item\n      ));\n    }\n  };\n\n  const removeFromCart = (id: string) => {\n    setCart(cart.filter(item => item.id !== id));\n  };\n\n  const getSubtotal = () => cart.reduce((sum, item) => sum + item.total, 0);\n  const getTax = () => getSubtotal() * 0.18; // 18% ITBIS\n  const getTotal = () => getSubtotal() + getTax();\n\n  const processPayment = () => {\n    const total = getTotal();\n    const received = parseFloat(amountReceived) || total;\n    \n    if (received >= total || paymentMethod !== 'cash') {\n      const newSale: Sale = {\n        id: `SALE-${Date.now()}`,\n        date: new Date().toISOString().split('T')[0],\n        time: new Date().toTimeString().split(' ')[0],\n        customer: selectedCustomer,\n        items: [...cart],\n        subtotal: getSubtotal(),\n        tax: getTax(),\n        total: total,\n        paymentMethod,\n        amountReceived: received,\n        change: paymentMethod === 'cash' ? received - total : 0,\n        status: 'completed',\n        cashier: 'Admin'\n      };\n\n      // Update sales\n      const updatedSales = [newSale, ...sales];\n      setSales(updatedSales);\n      localStorage.setItem('contabi_pos_sales', JSON.stringify(updatedSales));\n\n      // Update product stock\n      const updatedProducts = products.map(product => {\n        const cartItem = cart.find(item => item.id === product.id);\n        if (cartItem) {\n          return { ...product, stock: product.stock - cartItem.quantity };\n        }\n        return product;\n      });\n      \n      const allProducts = JSON.parse(localStorage.getItem('contabi_products') || '[]');\n      const finalProducts = allProducts.map((product: Product) => {\n        const updatedProduct = updatedProducts.find(p => p.id === product.id);\n        return updatedProduct || product;\n      });\n      \n      localStorage.setItem('contabi_products', JSON.stringify(finalProducts));\n      window.dispatchEvent(new CustomEvent('productsUpdated'));\n      \n      alert(`Venta procesada exitosamente. ${paymentMethod === 'cash' ? `Cambio: RD$${(received - total).toFixed(2)}` : ''}`);\n      setCart([]);\n      setSelectedCustomer(null);\n      setAmountReceived('');\n      setShowPaymentModal(false);\n      loadProducts();\n    } else {\n      alert('Monto insuficiente');\n    }\n  };\n\n  const addNewCustomer = () => {\n    if (!newCustomer.name || !newCustomer.document) {\n      alert('Nombre y documento son requeridos');\n      return;\n    }\n\n    const customer: Customer = {\n      id: Date.now().toString(),\n      ...newCustomer\n    };\n\n    const updatedCustomers = [...customers, customer];\n    setCustomers(updatedCustomers);\n    localStorage.setItem('contabi_pos_customers', JSON.stringify(updatedCustomers));\n    \n    setNewCustomer({\n      name: '',\n      document: '',\n      phone: '',\n      email: '',\n      address: '',\n      type: 'regular'\n    });\n    setShowNewCustomerModal(false);\n    alert('Cliente agregado exitosamente');\n  };\n\n  const getTodayStats = () => {\n    const today = new Date().toISOString().split('T')[0];\n    const todaySales = sales.filter(sale => sale.date === today && sale.status === 'completed');\n    \n    return {\n      totalSales: todaySales.length,\n      totalAmount: todaySales.reduce((sum, sale) => sum + sale.total, 0),\n      cashSales: todaySales.filter(sale => sale.paymentMethod === 'cash').length,\n      cardSales: todaySales.filter(sale => sale.paymentMethod === 'card').length,\n      transferSales: todaySales.filter(sale => sale.paymentMethod === 'transfer').length\n    };\n  };\n\n  const getTopProducts = () => {\n    const productSales: { [key: string]: { name: string; quantity: number; revenue: number } } = {};\n    \n    sales.forEach(sale => {\n      if (sale.status === 'completed') {\n        sale.items.forEach(item => {\n          if (productSales[item.id]) {\n            productSales[item.id].quantity += item.quantity;\n            productSales[item.id].revenue += item.total;\n          } else {\n            productSales[item.id] = {\n              name: item.name,\n              quantity: item.quantity,\n              revenue: item.total\n            };\n          }\n        });\n      }\n    });\n\n    return Object.values(productSales)\n      .sort((a, b) => b.quantity - a.quantity)\n      .slice(0, 5);\n  };\n\n  const exportSalesReport = () => {\n    const csvContent = [\n      ['ID Venta', 'Fecha', 'Hora', 'Cliente', 'Subtotal', 'Impuesto', 'Total', 'Método Pago', 'Estado'].join(','),\n      ...sales.map(sale => [\n        sale.id,\n        sale.date,\n        sale.time,\n        sale.customer?.name || 'Cliente General',\n        sale.subtotal.toFixed(2),\n        sale.tax.toFixed(2),\n        sale.total.toFixed(2),\n        sale.paymentMethod,\n        sale.status\n      ].join(','))\n    ].join('\\n');\n\n    const blob = new Blob(['\\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `reporte_ventas_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const renderDashboard = () => {\n    const todayStats = getTodayStats();\n    const topProducts = getTopProducts();\n\n    return (\n      <div className=\"space-y-6\">\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-shopping-cart-line text-blue-600 text-xl\"></i>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Ventas Hoy</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{todayStats.totalSales}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-money-dollar-circle-line text-green-600 text-xl\"></i>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Ingresos Hoy</p>\n                <p className=\"text-2xl font-bold text-gray-900\">RD${todayStats.totalAmount.toLocaleString()}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-user-line text-purple-600 text-xl\"></i>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Clientes</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{customers.length}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-box-line text-orange-600 text-xl\"></i>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Productos</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{products.length}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Charts and Recent Sales */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Payment Methods */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Métodos de Pago Hoy</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded-full mr-3\"></div>\n                  <span className=\"text-sm text-gray-600\">Efectivo</span>\n                </div>\n                <span className=\"text-sm font-medium\">{todayStats.cashSales} ventas</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-blue-500 rounded-full mr-3\"></div>\n                  <span className=\"text-sm text-gray-600\">Tarjeta</span>\n                </div>\n                <span className=\"text-sm font-medium\">{todayStats.cardSales} ventas</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-purple-500 rounded-full mr-3\"></div>\n                  <span className=\"text-sm text-gray-600\">Transferencia</span>\n                </div>\n                <span className=\"text-sm font-medium\">{todayStats.transferSales} ventas</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Top Products */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Productos Más Vendidos</h3>\n            <div className=\"space-y-3\">\n              {topProducts.map((product, index) => (\n                <div key={index} className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <span className=\"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium mr-3\">\n                      {index + 1}\n                    </span>\n                    <span className=\"text-sm text-gray-900 truncate\">{product.name}</span>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium\">{product.quantity} unidades</div>\n                    <div className=\"text-xs text-gray-500\">RD${product.revenue.toLocaleString()}</div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Recent Sales */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Ventas Recientes</h3>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cliente</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Método</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Estado</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {sales.slice(0, 5).map((sale) => (\n                  <tr key={sale.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{sale.id}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {sale.customer?.name || 'Cliente General'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">RD${sale.total.toLocaleString()}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\">{sale.paymentMethod}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                        sale.status === 'completed' ? 'bg-green-100 text-green-800' :\n                        sale.status === 'cancelled' ? 'bg-red-100 text-red-800' :\n                        'bg-yellow-100 text-yellow-800'\n                      }`}>\n                        {sale.status === 'completed' ? 'Completada' : \n                         sale.status === 'cancelled' ? 'Cancelada' : 'Reembolsada'}\n                      </span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderPOS = () => (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* Products Section */}\n      <div className=\"flex-1 p-6\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Productos</h2>\n          \n          {/* Search and Filters */}\n          <div className=\"flex space-x-4 mb-4\">\n            <div className=\"flex-1 relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <i className=\"ri-search-line text-gray-400\"></i>\n              </div>\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                placeholder=\"Buscar productos...\"\n              />\n            </div>\n            <select\n              value={selectedCategory}\n              onChange={(e) => setSelectedCategory(e.target.value)}\n              className=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8\"\n            >\n              {categories.map(category => (\n                <option key={category} value={category}>\n                  {category === 'all' ? 'Todas las categorías' : category}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Products Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n          {filteredProducts.map((product) => (\n            <div\n              key={product.id}\n              className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer\"\n              onClick={() => addToCart(product)}\n            >\n              <div className=\"w-full h-32 mb-3 bg-gray-100 rounded-lg overflow-hidden\">\n                <img\n                  src={product.imageUrl}\n                  alt={product.name}\n                  className=\"w-full h-full object-cover object-top\"\n                  onError={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNTAgMTAwQzE2MS4wNDYgMTAwIDE3MCA5MC45NTQzIDE3MCA4MEM1NyA2OS4wNDU3IDE0Ny45NTQgNjAgMTM2IDYwQzEyNC45NTQgNjAgMTE2IDY5LjA0NTcgMTE2IDgwQzExNiA5MC45NTQzIDEyNC45NTQgMTAwIDEzNiAxMDBIMTUwWiIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNMTg2IDEyMEgxMTRDMTA3LjM3MyAxMjAgMTAyIDEyNS4zNzMgMTAyIDEzMlYyMDBDMTAyIDIwNi2MjcgMTA3LjM3MyAyMTIgMTE0IDIxMkgxODZDMTkyLjYyNyAyMTIgMTk4IDIwNi4yMjJgMTk0IDIwMFYxMzJDMTk0IDEyNS4zNzMgMTkyLjYyNyAxMjAgMTg2IDEyMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+';\n                  }}\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-xs text-gray-500\">{product.category}</span>\n                <span className={`text-xs px-2 py-1 rounded-full ${\n                  product.stock > 10 ? 'bg-green-100 text-green-800' :\n                  product.stock > 0 ? 'bg-yellow-100 text-yellow-800' :\n                  'bg-red-100 text-red-800'\n                }`}>\n                  Stock: {product.stock}\n                </span>\n              </div>\n              <h3 className=\"font-medium text-gray-900 mb-2 text-sm\">{product.name}</h3>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-lg font-bold text-blue-600\">\n                  RD${product.price.toLocaleString()}\n                </span>\n                <button className=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors\">\n                  <i className=\"ri-add-line\"></i>\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Cart Section */}\n      <div className=\"w-96 bg-white border-l border-gray-200 flex flex-col\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">Carrito de Compras</h2>\n          \n          <div className=\"mt-4\">\n            <button\n              onClick={() => setShowCustomerModal(true)}\n              className=\"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              <div className=\"flex items-center\">\n                <i className=\"ri-user-line text-gray-400 mr-2\"></i>\n                <span className=\"text-sm text-gray-600\">\n                  {selectedCustomer ? selectedCustomer.name : 'Seleccionar Cliente'}\n                </span>\n              </div>\n              <i className=\"ri-arrow-down-s-line text-gray-400\"></i>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {cart.length === 0 ? (\n            <div className=\"text-center text-gray-500 mt-8\">\n              <i className=\"ri-shopping-cart-line text-4xl mb-2\"></i>\n              <p>Carrito vacío</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {cart.map((item) => (\n                <div key={item.id} className=\"flex items-center p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden mr-3 flex-shrink-0\">\n                    <img\n                      src={item.imageUrl}\n                      alt={item.name}\n                      className=\"w-full h-full object-cover object-top\"\n                      onError={(e) => {\n                        const target = e.target as HTMLImageElement;\n                        target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyMEMyNi4yMDkxIDIwIDI4IDE4LjIwOTEgMjggMTZDMjggMTMuNzkwOSAyNi4yMDkxIDEyIDI0IDEyQzIxLjc5MDkgMTIgMjAgMTMuNzkwOSAyMCAxNkMyMCAxOC4yMDkxIDIxLjc5MDkgMjAgMjQgMjBaIiBmaWxsPSIjOUNBM0FGIi8+CjxwYXRoIGQ9Ik0zMiAyNEgxNkMxNC44OTU0IDI0IDE0IDI0Ljg5NTQgMTQgMjZWMzRDMTQgMzUuMTA0NiAxNC44OTU0IDM2IDE2IDM2SDMyQzMzLjEwNDYgMzYgMzQgMzUuMTA0NiAzNCAzNFYyNkMzNCAyNC44OTU0IDMzLjEwNDYgMjQgMzIgMjRaIiBmaWxsPSIjOUNBM0FGIi8+Cjwvc3ZnPg==';\n                      }}\n                    />\n                  </div>\n\n                  <div className=\"flex-1 min-w-0\">\n                    <h4 className=\"font-medium text-gray-900 text-sm truncate\">{item.name}</h4>\n                    <p className=\"text-xs text-gray-500\">RD${item.price.toLocaleString()} c/u</p>\n                    <p className=\"text-sm font-semibold text-gray-900\">RD${item.total.toLocaleString()}</p>\n                  </div>\n\n                  <div className=\"flex items-center space-x-2 ml-3\">\n                    <button\n                      onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                      className=\"w-6 h-6 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors\"\n                    >\n                      <i className=\"ri-subtract-line text-xs\"></i>\n                    </button>\n                    <span className=\"w-8 text-center text-sm font-medium\">{item.quantity}</span>\n                    <button\n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                      className=\"w-6 h-6 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors\"\n                    >\n                      <i className=\"ri-add-line text-xs\"></i>\n                    </button>\n                    <button\n                      onClick={() => removeFromCart(item.id)}\n                      className=\"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center hover:bg-red-200 transition-colors ml-2\"\n                    >\n                      <i className=\"ri-delete-bin-line text-xs\"></i>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {cart.length > 0 && (\n          <div className=\"p-6 border-t border-gray-200\">\n            <div className=\"space-y-2 mb-4\">\n              <div className=\"flex justify-between text-sm\">\n                <span>Subtotal:</span>\n                <span>RD${getSubtotal().toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>ITBIS (18%):</span>\n                <span>RD${getTax().toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-lg font-bold border-t pt-2\">\n                <span>Total:</span>\n                <span>RD${getTotal().toFixed(2)}</span>\n              </div>\n            </div>\n            \n            <button\n              onClick={() => setShowPaymentModal(true)}\n              className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors whitespace-nowrap\"\n            >\n              Procesar Pago\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderSales = () => (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold text-gray-900\">Historial de Ventas</h2>\n        <button\n          onClick={exportSalesReport}\n          className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n        >\n          <i className=\"ri-download-line mr-2\"></i>\n          Exportar Reporte\n        </button>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID Venta</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cliente</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Items</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Método</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Estado</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {sales.map((sale) => (\n                <tr key={sale.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{sale.id}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {sale.date} {sale.time}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {sale.customer?.name || 'Cliente General'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {sale.items.length} productos\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    RD${sale.total.toLocaleString()}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\">\n                    {sale.paymentMethod === 'cash' ? 'Efectivo' : \n                     sale.paymentMethod === 'card' ? 'Tarjeta' : 'Transferencia'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      sale.status === 'completed' ? 'bg-green-100 text-green-800' :\n                      sale.status === 'cancelled' ? 'bg-red-100 text-red-800' :\n                      'bg-yellow-100 text-yellow-800'\n                    }`}>\n                      {sale.status === 'completed' ? 'Completada' : \n                       sale.status === 'cancelled' ? 'Cancelada' : 'Reembolsada'}\n                    </span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderCustomers = () => (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold text-gray-900\">Gestión de Clientes</h2>\n        <button\n          onClick={() => setShowNewCustomerModal(true)}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>\n          Nuevo Cliente\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {customers.map((customer) => (\n          <div key={customer.id} className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center\">\n                <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\n                  customer.type === 'vip' ? 'bg-yellow-100' : 'bg-gray-100'\n                }`}>\n                  <i className={`${customer.type === 'vip' ? 'ri-vip-crown-line text-yellow-600' : 'ri-user-line text-gray-600'}`}></i>\n                </div>\n                <div className=\"ml-3\">\n                  <h3 className=\"font-medium text-gray-900\">{customer.name}</h3>\n                  <p className=\"text-sm text-gray-500\">{customer.document}</p>\n                </div>\n              </div>\n              <span className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                customer.type === 'vip' ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'\n              }`}>\n                {customer.type === 'vip' ? 'VIP' : 'Regular'}\n              </span>\n            </div>\n            \n            <div className=\"space-y-2 text-sm text-gray-600\">\n              <div className=\"flex items-center\">\n                <i className=\"ri-phone-line mr-2\"></i>\n                <span>{customer.phone}</span>\n              </div>\n              <div className=\"flex items-center\">\n                <i className=\"ri-mail-line mr-2\"></i>\n                <span>{customer.email}</span>\n              </div>\n              <div className=\"flex items-center\">\n                <i className=\"ri-map-pin-line mr-2\"></i>\n                <span className=\"truncate\">{customer.address}</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderReports = () => {\n    const todayStats = getTodayStats();\n    const topProducts = getTopProducts();\n    \n    return (\n      <div className=\"space-y-6\">\n        <h2 className=\"text-xl font-bold text-gray-900\">Reportes y Análisis</h2>\n\n        {/* Summary Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Resumen del Día</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Total Ventas:</span>\n                <span className=\"font-medium\">{todayStats.totalSales}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Ingresos:</span>\n                <span className=\"font-medium\">RD${todayStats.totalAmount.toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Promedio por Venta:</span>\n                <span className=\"font-medium\">\n                  RD${todayStats.totalSales > 0 ? (todayStats.totalAmount / todayStats.totalSales).toFixed(0) : '0'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Métodos de Pago</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Efectivo:</span>\n                <span className=\"font-medium\">{todayStats.cashSales} ventas</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Tarjeta:</span>\n                <span className=\"font-medium\">{todayStats.cardSales} ventas</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Transferencia:</span>\n                <span className=\"font-medium\">{todayStats.transferSales} ventas</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Estadísticas Generales</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Total Clientes:</span>\n                <span className=\"font-medium\">{customers.length}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Clientes VIP:</span>\n                <span className=\"font-medium\">{customers.filter(c => c.type === 'vip').length}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Productos Activos:</span>\n                <span className=\"font-medium\">{products.length}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Top Products Table */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Productos Más Vendidos</h3>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Posición</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cantidad Vendida</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Ingresos</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {topProducts.map((product, index) => (\n                  <tr key={index}>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className=\"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium\">\n                        {index + 1}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{product.name}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{product.quantity} unidades</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      RD${product.revenue.toLocaleString()}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Punto de Ventas</h1>\n            <p className=\"text-gray-600\">Sistema completo de ventas y gestión</p>\n          </div>\n          <button\n            onClick={() => window.location.href = '/dashboard'}\n            className=\"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-arrow-left-line mr-2\"></i>\n            Volver al Inicio\n          </button>\n        </div>\n\n        {/* Navigation Tabs */}\n        <div className=\"border-b border-gray-200 mb-6\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {[\n              { id: 'dashboard', name: 'Dashboard', icon: 'ri-dashboard-line' },\n              { id: 'pos', name: 'Punto de Venta', icon: 'ri-shopping-cart-line' },\n              { id: 'sales', name: 'Ventas', icon: 'ri-file-list-line' },\n              { id: 'customers', name: 'Clientes', icon: 'ri-user-line' },\n              { id: 'reports', name: 'Reportes', icon: 'ri-bar-chart-line' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`flex items-center py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${\n                  activeTab === tab.id\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <i className={`${tab.icon} mr-2`}></i>\n                {tab.name}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 'dashboard' && renderDashboard()}\n        {activeTab === 'pos' && renderPOS()}\n        {activeTab === 'sales' && renderSales()}\n        {activeTab === 'customers' && renderCustomers()}\n        {activeTab === 'reports' && renderReports()}\n\n        {/* Customer Selection Modal */}\n        {showCustomerModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-96 max-h-96 overflow-y-auto\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-semibold\">Seleccionar Cliente</h3>\n                <button\n                  onClick={() => setShowCustomerModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n              \n              <div className=\"space-y-2\">\n                <button\n                  onClick={() => {\n                    setSelectedCustomer(null);\n                    setShowCustomerModal(false);\n                  }}\n                  className=\"w-full text-left p-3 hover:bg-gray-50 rounded-lg border\"\n                >\n                  <div className=\"font-medium\">Cliente General</div>\n                  <div className=\"text-sm text-gray-500\">Sin información específica</div>\n                </button>\n                \n                {customers.map((customer) => (\n                  <button\n                    key={customer.id}\n                    onClick={() => {\n                      setSelectedCustomer(customer);\n                      setShowCustomerModal(false);\n                    }}\n                    className=\"w-full text-left p-3 hover:bg-gray-50 rounded-lg border\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <div className=\"font-medium\">{customer.name}</div>\n                        <div className=\"text-sm text-gray-500\">{customer.document}</div>\n                      </div>\n                      {customer.type === 'vip' && (\n                        <span className=\"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800\">\n                          VIP\n                        </span>\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Payment Modal */}\n        {showPaymentModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-96\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-semibold\">Procesar Pago</h3>\n                <button\n                  onClick={() => setShowPaymentModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n              \n              <div className=\"mb-4\">\n                <div className=\"text-2xl font-bold text-center mb-4\">\n                  Total: RD${getTotal().toFixed(2)}\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Método de Pago\n                  </label>\n                  <select\n                    value={paymentMethod}\n                    onChange={(e) => setPaymentMethod(e.target.value)}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                  >\n                    <option value=\"cash\">Efectivo</option>\n                    <option value=\"card\">Tarjeta</option>\n                    <option value=\"transfer\">Transferencia</option>\n                  </select>\n                </div>\n                \n                {paymentMethod === 'cash' && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Monto Recibido\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={amountReceived}\n                      onChange={(e) => setAmountReceived(e.target.value)}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"0.00\"\n                    />\n                    {amountReceived && (\n                      <div className=\"mt-2 text-sm\">\n                        Cambio: RD${Math.max(0, parseFloat(amountReceived) - getTotal()).toFixed(2)}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n              \n              <button\n                onClick={processPayment}\n                className=\"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors whitespace-nowrap\"\n              >\n                Confirmar Pago\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* New Customer Modal */}\n        {showNewCustomerModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-96 max-h-[80vh] overflow-y-auto\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-semibold\">Nuevo Cliente</h3>\n                <button\n                  onClick={() => setShowNewCustomerModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n              \n              <form onSubmit={(e) => { e.preventDefault(); addNewCustomer(); }} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Nombre *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newCustomer.name}\n                    onChange={(e) => setNewCustomer({...newCustomer, name: e.target.value})}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Documento *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newCustomer.document}\n                    onChange={(e) => setNewCustomer({...newCustomer, document: e.target.value})}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"001-1234567-8\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Teléfono\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={newCustomer.phone}\n                    onChange={(e) => setNewCustomer({...newCustomer, phone: e.target.value})}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"809-123-4567\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={newCustomer.email}\n                    onChange={(e) => setNewCustomer({...newCustomer, email: e.target.value})}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"cliente@email.com\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Dirección\n                  </label>\n                  <textarea\n                    value={newCustomer.address}\n                    onChange={(e) => setNewCustomer({...newCustomer, address: e.target.value})}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    rows={2}\n                    placeholder=\"Dirección completa\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Tipo de Cliente\n                  </label>\n                  <select\n                    value={newCustomer.type}\n                    onChange={(e) => setNewCustomer({...newCustomer, type: e.target.value as 'regular' | 'vip'})}\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                  >\n                    <option value=\"regular\">Regular</option>\n                    <option value=\"vip\">VIP</option>\n                  </select>\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowNewCustomerModal(false)}\n                    className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n                  >\n                    Guardar Cliente\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["POSPage","activeTab","setActiveTab","useState","cart","setCart","searchTerm","setSearchTerm","selectedCustomer","setSelectedCustomer","paymentMethod","setPaymentMethod","amountReceived","setAmountReceived","showCustomerModal","setShowCustomerModal","showPaymentModal","setShowPaymentModal","showNewCustomerModal","setShowNewCustomerModal","products","setProducts","sales","setSales","customers","setCustomers","selectedCategory","setSelectedCategory","newCustomer","setNewCustomer","useEffect","loadProducts","loadSales","loadCustomers","savedProducts","activeProducts","product","savedSales","savedCustomers","categories","filteredProducts","matchesSearch","matchesCategory","addToCart","existingItem","item","updateQuantity","id","quantity","removeFromCart","p","getSubtotal","sum","getTax","getTotal","processPayment","total","received","updatedSales","updatedProducts","cartItem","finalProducts","addNewCustomer","customer","updatedCustomers","getTodayStats","today","todaySales","sale","getTopProducts","productSales","b","exportSalesReport","csvContent","blob","link","url","renderDashboard","todayStats","topProducts","jsxs","jsx","index","renderPOS","e","category","target","renderSales","renderCustomers","renderReports","c","DashboardLayout","tab"],"mappings":"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"}