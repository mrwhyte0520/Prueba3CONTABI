{"version":3,"file":"page-BCqtfmOC.js","sources":["../../src/pages/settings/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport DashboardLayout from '../../components/layout/DashboardLayout';\nimport { settingsService } from '../../services/database';\nimport { useNavigate } from 'react-router-dom';\nimport * as XLSX from 'xlsx';\n\ninterface SettingsSection {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  href: string;\n}\n\ninterface ChangeHistoryItem {\n  id: string;\n  section: string;\n  action: string;\n  user: string;\n  timestamp: string;\n  details: string;\n}\n\nconst settingsSections: SettingsSection[] = [\n  {\n    id: 'company',\n    name: 'Información de la Empresa',\n    description: 'Configurar datos básicos de la empresa, logo y contacto',\n    icon: 'ri-building-line',\n    href: '/settings/company'\n  },\n  {\n    id: 'accounting',\n    name: 'Configuración Contable',\n    description: 'Configurar períodos fiscales, monedas y políticas contables',\n    icon: 'ri-calculator-line',\n    href: '/settings/accounting'\n  },\n  {\n    id: 'taxes',\n    name: 'Configuración de Impuestos',\n    description: 'Configurar tipos de impuestos, tasas y reglas fiscales',\n    icon: 'ri-percent-line',\n    href: '/settings/taxes'\n  },\n  {\n    id: 'inventory',\n    name: 'Configuración de Inventario',\n    description: 'Configurar métodos de valuación, categorías y almacenes',\n    icon: 'ri-archive-line',\n    href: '/settings/inventory'\n  },\n  {\n    id: 'payroll',\n    name: 'Configuración de Nómina',\n    description: 'Configurar conceptos de nómina, deducciones y beneficios',\n    icon: 'ri-money-dollar-circle-line',\n    href: '/settings/payroll'\n  },\n  {\n    id: 'backup',\n    name: 'Respaldos y Seguridad',\n    description: 'Configurar respaldos automáticos y políticas de seguridad',\n    icon: 'ri-shield-check-line',\n    href: '/settings/backup'\n  }\n];\n\nexport default function SettingsPage() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showHistoryModal, setShowHistoryModal] = useState(false);\n  const [showResetModal, setShowResetModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  const filteredSections = settingsSections.filter(section =>\n    section.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    section.description.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleSectionClick = (href: string) => {\n    window.REACT_APP_NAVIGATE(href);\n  };\n\n  const handleExportConfiguration = async () => {\n    setLoading(true);\n    setMessage(null);\n    \n    try {\n      // Obtener todas las configuraciones del sistema\n      const [\n        companyInfo, \n        accountingSettings, \n        taxSettings, \n        inventorySettings, \n        payrollSettings,\n        taxRates,\n        warehouses,\n        payrollConcepts\n      ] = await Promise.all([\n        settingsService.getCompanyInfo(),\n        settingsService.getAccountingSettings(),\n        settingsService.getTaxSettings(),\n        settingsService.getInventorySettings(),\n        settingsService.getPayrollSettings(),\n        settingsService.getTaxRates(),\n        settingsService.getWarehouses(),\n        settingsService.getPayrollConcepts()\n      ]);\n\n      // Crear un nuevo libro de Excel\n      const workbook = XLSX.utils.book_new();\n\n      // Hoja 1: Información de la Empresa\n      if (companyInfo) {\n        const companyData = [\n          ['Campo', 'Valor'],\n          ['Nombre de la Empresa', companyInfo.name || ''],\n          ['RNC', companyInfo.rnc || ''],\n          ['Dirección', companyInfo.address || ''],\n          ['Teléfono', companyInfo.phone || ''],\n          ['Email', companyInfo.email || ''],\n          ['Sitio Web', companyInfo.website || ''],\n          ['Sector', companyInfo.sector || ''],\n          ['Tipo de Empresa', companyInfo.company_type || '']\n        ];\n        const companySheet = XLSX.utils.aoa_to_sheet(companyData);\n        XLSX.utils.book_append_sheet(workbook, companySheet, 'Información Empresa');\n      }\n\n      // Hoja 2: Configuración Contable\n      if (accountingSettings) {\n        const accountingData = [\n          ['Campo', 'Valor'],\n          ['Inicio Año Fiscal', accountingSettings.fiscal_year_start || ''],\n          ['Fin Año Fiscal', accountingSettings.fiscal_year_end || ''],\n          ['Moneda por Defecto', accountingSettings.default_currency || ''],\n          ['Decimales', accountingSettings.decimal_places || ''],\n          ['Formato de Fecha', accountingSettings.date_format || ''],\n          ['Formato de Números', accountingSettings.number_format || ''],\n          ['Respaldo Automático', accountingSettings.auto_backup ? 'Sí' : 'No'],\n          ['Frecuencia de Respaldo', accountingSettings.backup_frequency || ''],\n          ['Período de Retención', accountingSettings.retention_period || '']\n        ];\n        const accountingSheet = XLSX.utils.aoa_to_sheet(accountingData);\n        XLSX.utils.book_append_sheet(workbook, accountingSheet, 'Config Contable');\n      }\n\n      // Hoja 3: Configuración de Impuestos\n      if (taxSettings) {\n        const taxData = [\n          ['Campo', 'Valor'],\n          ['Tasa ITBIS (%)', taxSettings.itbis_rate || ''],\n          ['Tasa ISR (%)', taxSettings.isr_rate || ''],\n          ['Tasa Retención (%)', taxSettings.retention_rate || ''],\n          ['Frecuencia Declaración', taxSettings.declaration_frequency || ''],\n          ['Inicio Año Fiscal', taxSettings.fiscal_year_start || ''],\n          ['Fin Año Fiscal', taxSettings.fiscal_year_end || '']\n        ];\n        const taxSheet = XLSX.utils.aoa_to_sheet(taxData);\n        XLSX.utils.book_append_sheet(workbook, taxSheet, 'Config Impuestos');\n      }\n\n      // Hoja 4: Configuración de Inventario\n      if (inventorySettings) {\n        const inventoryData = [\n          ['Campo', 'Valor'],\n          ['Método de Valuación', inventorySettings.valuation_method || ''],\n          ['Reorden Automático', inventorySettings.auto_reorder ? 'Sí' : 'No'],\n          ['Rastrear Números de Serie', inventorySettings.track_serial_numbers ? 'Sí' : 'No'],\n          ['Rastrear Fechas de Vencimiento', inventorySettings.track_expiration_dates ? 'Sí' : 'No'],\n          ['Almacén por Defecto', inventorySettings.default_warehouse || '']\n        ];\n        const inventorySheet = XLSX.utils.aoa_to_sheet(inventoryData);\n        XLSX.utils.book_append_sheet(workbook, inventorySheet, 'Config Inventario');\n      }\n\n      // Hoja 5: Configuración de Nómina\n      if (payrollSettings) {\n        const payrollData = [\n          ['Campo', 'Valor'],\n          ['Frecuencia de Pago', payrollSettings.pay_frequency || ''],\n          ['Tasa Horas Extra', payrollSettings.overtime_rate || ''],\n          ['Tasa Seguro Social (%)', payrollSettings.social_security_rate || ''],\n          ['Tasa AFP (%)', payrollSettings.afp_rate || ''],\n          ['Tasa SFS (%)', payrollSettings.sfs_rate || ''],\n          ['Bono Navideño', payrollSettings.christmas_bonus ? 'Sí' : 'No'],\n          ['Días de Vacaciones', payrollSettings.vacation_days || '']\n        ];\n        const payrollSheet = XLSX.utils.aoa_to_sheet(payrollData);\n        XLSX.utils.book_append_sheet(workbook, payrollSheet, 'Config Nómina');\n      }\n\n      // Hoja 6: Tasas de Impuestos\n      if (taxRates && taxRates.length > 0) {\n        const taxRatesData = [\n          ['Nombre', 'Tipo', 'Tasa (%)', 'Descripción', 'Activo']\n        ];\n        taxRates.forEach(rate => {\n          taxRatesData.push([\n            rate.name || '',\n            rate.type || '',\n            rate.rate || '',\n            rate.description || '',\n            rate.is_active ? 'Sí' : 'No'\n          ]);\n        });\n        const taxRatesSheet = XLSX.utils.aoa_to_sheet(taxRatesData);\n        XLSX.utils.book_append_sheet(workbook, taxRatesSheet, 'Tasas Impuestos');\n      }\n\n      // Hoja 7: Almacenes\n      if (warehouses && warehouses.length > 0) {\n        const warehousesData = [\n          ['Nombre', 'Código', 'Dirección', 'Teléfono', 'Responsable', 'Activo']\n        ];\n        warehouses.forEach(warehouse => {\n          warehousesData.push([\n            warehouse.name || '',\n            warehouse.code || '',\n            warehouse.address || '',\n            warehouse.phone || '',\n            warehouse.manager || '',\n            warehouse.is_active ? 'Sí' : 'No'\n          ]);\n        });\n        const warehousesSheet = XLSX.utils.aoa_to_sheet(warehousesData);\n        XLSX.utils.book_append_sheet(workbook, warehousesSheet, 'Almacenes');\n      }\n\n      // Hoja 8: Conceptos de Nómina\n      if (payrollConcepts && payrollConcepts.length > 0) {\n        const conceptsData = [\n          ['Nombre', 'Código', 'Tipo', 'Fórmula', 'Activo']\n        ];\n        payrollConcepts.forEach(concept => {\n          conceptsData.push([\n            concept.name || '',\n            concept.code || '',\n            concept.type || '',\n            concept.formula || '',\n            concept.is_active ? 'Sí' : 'No'\n          ]);\n        });\n        const conceptsSheet = XLSX.utils.aoa_to_sheet(conceptsData);\n        XLSX.utils.book_append_sheet(workbook, conceptsSheet, 'Conceptos Nómina');\n      }\n\n      // Hoja 9: Información de Exportación\n      const exportInfoData = [\n        ['Campo', 'Valor'],\n        ['Fecha de Exportación', new Date().toLocaleString('es-DO')],\n        ['Sistema', 'Contabi RD'],\n        ['Versión', '1.0'],\n        ['Usuario', 'Administrador'],\n        ['Descripción', 'Configuración completa del sistema contable']\n      ];\n      const exportInfoSheet = XLSX.utils.aoa_to_sheet(exportInfoData);\n      XLSX.utils.book_append_sheet(workbook, exportInfoSheet, 'Info Exportación');\n\n      // Generar y descargar el archivo Excel\n      const fileName = `contabi-configuracion-${new Date().toISOString().split('T')[0]}.xlsx`;\n      XLSX.writeFile(workbook, fileName);\n\n      setMessage({ \n        type: 'success', \n        text: 'Configuración exportada exitosamente en formato Excel. El archivo se ha descargado.' \n      });\n    } catch (error) {\n      console.error('Error exporting configuration:', error);\n      setMessage({ \n        type: 'error', \n        text: 'Error al exportar la configuración. Inténtalo de nuevo.' \n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImportConfiguration = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.onchange = async (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0];\n      if (!file) return;\n\n      setLoading(true);\n      setMessage(null);\n      \n      try {\n        const text = await file.text();\n        const configData = JSON.parse(text);\n\n        // Validar estructura del archivo\n        if (!configData.exportInfo || !configData.exportInfo.version) {\n          throw new Error('Archivo de configuración inválido o corrupto');\n        }\n\n        // Verificar que es un archivo de Contabi RD\n        if (configData.exportInfo.systemName !== 'Contabi RD') {\n          throw new Error('Este archivo no es compatible con Contabi RD');\n        }\n\n        let importedSections = 0;\n\n        // Importar configuraciones una por una\n        if (configData.companyInfo) {\n          await settingsService.saveCompanyInfo(configData.companyInfo);\n          importedSections++;\n        }\n\n        if (configData.accountingSettings) {\n          await settingsService.saveAccountingSettings(configData.accountingSettings);\n          importedSections++;\n        }\n\n        if (configData.taxSettings) {\n          await settingsService.saveTaxSettings(configData.taxSettings);\n          importedSections++;\n        }\n\n        if (configData.inventorySettings) {\n          await settingsService.saveInventorySettings(configData.inventorySettings);\n          importedSections++;\n        }\n\n        if (configData.payrollSettings) {\n          await settingsService.savePayrollSettings(configData.payrollSettings);\n          importedSections++;\n        }\n\n        // Importar tasas de impuestos\n        if (configData.taxRates && Array.isArray(configData.taxRates)) {\n          for (const rate of configData.taxRates) {\n            try {\n              await settingsService.createTaxRate(rate);\n            } catch (error) {\n              // Continuar si ya existe\n              console.warn('Tax rate already exists or error creating:', error);\n            }\n          }\n        }\n\n        // Importar almacenes\n        if (configData.warehouses && Array.isArray(configData.warehouses)) {\n          for (const warehouse of configData.warehouses) {\n            try {\n              await settingsService.createWarehouse(warehouse);\n            } catch (error) {\n              // Continuar si ya existe\n              console.warn('Warehouse already exists or error creating:', error);\n            }\n          }\n        }\n\n        // Importar conceptos de nómina\n        if (configData.payrollConcepts && Array.isArray(configData.payrollConcepts)) {\n          for (const concept of configData.payrollConcepts) {\n            try {\n              await settingsService.createPayrollConcept(concept);\n            } catch (error) {\n              // Continuar si ya existe\n              console.warn('Payroll concept already exists or error creating:', error);\n            }\n          }\n        }\n\n        setMessage({ \n          type: 'success', \n          text: `Configuración importada exitosamente. ${importedSections} secciones actualizadas.` \n        });\n      } catch (error) {\n        console.error('Error importing configuration:', error);\n        let errorMessage = 'Error al importar la configuración.';\n        \n        if (error instanceof SyntaxError) {\n          errorMessage = 'El archivo seleccionado no es un JSON válido.';\n        } else if (error instanceof Error) {\n          errorMessage = error.message;\n        }\n        \n        setMessage({ type: 'error', text: errorMessage });\n      } finally {\n        setLoading(false);\n      }\n    };\n    input.click();\n  };\n\n  const handleResetConfiguration = async () => {\n    setLoading(true);\n    try {\n      // Restablecer configuraciones a valores por defecto para República Dominicana\n      const defaultAccountingSettings = {\n        fiscal_year_start: '2024-01-01',\n        fiscal_year_end: '2024-12-31',\n        default_currency: 'DOP',\n        decimal_places: 2,\n        date_format: 'DD/MM/YYYY',\n        number_format: '1,234.56',\n        auto_backup: true,\n        backup_frequency: 'daily',\n        retention_period: 30\n      };\n\n      const defaultTaxSettings = {\n        itbis_rate: 18.0,\n        isr_rate: 27.0,\n        retention_rate: 10.0,\n        declaration_frequency: 'monthly',\n        fiscal_year_start: '2024-01-01',\n        fiscal_year_end: '2024-12-31'\n      };\n\n      const defaultInventorySettings = {\n        valuation_method: 'FIFO',\n        auto_reorder: false,\n        track_serial_numbers: false,\n        track_expiration_dates: false,\n        default_warehouse: 'Principal'\n      };\n\n      const defaultPayrollSettings = {\n        pay_frequency: 'monthly',\n        overtime_rate: 1.5,\n        social_security_rate: 2.87,\n        afp_rate: 2.87,\n        sfs_rate: 3.04,\n        christmas_bonus: true,\n        vacation_days: 14\n      };\n\n      await Promise.all([\n        settingsService.saveAccountingSettings(defaultAccountingSettings),\n        settingsService.saveTaxSettings(defaultTaxSettings),\n        settingsService.saveInventorySettings(defaultInventorySettings),\n        settingsService.savePayrollSettings(defaultPayrollSettings)\n      ]);\n\n      setMessage({ \n        type: 'success', \n        text: 'Configuración restablecida a valores por defecto de República Dominicana' \n      });\n      setShowResetModal(false);\n    } catch (error) {\n      console.error('Error resetting configuration:', error);\n      setMessage({ \n        type: 'error', \n        text: 'Error al restablecer la configuración' \n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Mock data para historial de cambios\n  const changeHistory: ChangeHistoryItem[] = [\n    {\n      id: '1',\n      section: 'Información de la Empresa',\n      action: 'Actualización',\n      user: 'Admin',\n      timestamp: new Date().toISOString(),\n      details: 'Actualizado nombre de la empresa y dirección'\n    },\n    {\n      id: '2',\n      section: 'Configuración de Impuestos',\n      action: 'Modificación',\n      user: 'Contador',\n      timestamp: new Date(Date.now() - 86400000).toISOString(),\n      details: 'Modificada tasa de ITBIS de 18% a 18%'\n    },\n    {\n      id: '3',\n      section: 'Gestión de Usuarios',\n      action: 'Creación',\n      user: 'Admin',\n      timestamp: new Date(Date.now() - 172800000).toISOString(),\n      details: 'Creado nuevo usuario con rol de Contador'\n    }\n  ];\n\n  // Auto-hide message after 5 seconds\n  useState(() => {\n    if (message) {\n      const timer = setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  });\n\n  return (\n    <DashboardLayout>\n      <div className=\"space-y-6\">\n        {/* Message */}\n        {message && (\n          <div className={`p-4 rounded-lg ${message.type === 'success' ? 'bg-green-50 text-green-700 border border-green-200' : 'bg-red-50 text-red-700 border border-red-200'}`}>\n            <div className=\"flex items-center\">\n              <i className={`${message.type === 'success' ? 'ri-check-circle-line' : 'ri-error-warning-line'} mr-2`}></i>\n              {message.text}\n            </div>\n          </div>\n        )}\n\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Configuración del Sistema</h1>\n              <p className=\"text-gray-600 mt-1\">\n                Administra la configuración general de tu sistema contable\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-search-line text-gray-400\"></i>\n                </div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Buscar configuración...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Settings Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredSections.map((section) => (\n            <div\n              key={section.id}\n              onClick={() => handleSectionClick(section.href)}\n              className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer group\"\n            >\n              <div className=\"flex items-start space-x-4\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors\">\n                    <i className={`${section.icon} text-blue-600 text-xl`}></i>\n                  </div>\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors\">\n                    {section.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-600 mt-1\">\n                    {section.description}\n                  </p>\n                  <div className=\"mt-3 flex items-center text-sm text-blue-600 group-hover:text-blue-700\">\n                    <span>Configurar</span>\n                    <i className=\"ri-arrow-right-line ml-1\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Acciones Rápidas</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <button \n              onClick={handleExportConfiguration}\n              disabled={loading}\n              className=\"flex items-center justify-center space-x-2 bg-green-50 text-green-700 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n            >\n              <i className={`${loading ? 'ri-loader-4-line animate-spin' : 'ri-download-line'}`}></i>\n              <span>{loading ? 'Exportando...' : 'Exportar Configuración'}</span>\n            </button>\n            <button \n              onClick={handleImportConfiguration}\n              disabled={loading}\n              className=\"flex items-center justify-center space-x-2 bg-blue-50 text-blue-700 px-4 py-3 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n            >\n              <i className={`${loading ? 'ri-loader-4-line animate-spin' : 'ri-upload-line'}`}></i>\n              <span>{loading ? 'Importando...' : 'Importar Configuración'}</span>\n            </button>\n            <button \n              onClick={() => setShowResetModal(true)}\n              disabled={loading}\n              className=\"flex items-center justify-center space-x-2 bg-orange-50 text-orange-700 px-4 py-3 rounded-lg hover:bg-orange-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n            >\n              <i className=\"ri-refresh-line\"></i>\n              <span>Restablecer Valores</span>\n            </button>\n            <button \n              onClick={() => setShowHistoryModal(true)}\n              className=\"flex items-center justify-center space-x-2 bg-purple-50 text-purple-700 px-4 py-3 rounded-lg hover:bg-purple-100 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-history-line\"></i>\n              <span>Historial de Cambios</span>\n            </button>\n          </div>\n        </div>\n\n        {/* System Status */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Estado del Sistema</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"flex items-center space-x-3 p-4 bg-green-50 rounded-lg\">\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n              <div>\n                <p className=\"text-sm font-medium text-green-900\">Base de Datos</p>\n                <p className=\"text-xs text-green-700\">Conectada y funcionando</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3 p-4 bg-green-50 rounded-lg\">\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n              <div>\n                <p className=\"text-sm font-medium text-green-900\">Respaldos</p>\n                <p className=\"text-xs text-green-700\">Último: Hoy 03:00 AM</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3 p-4 bg-yellow-50 rounded-lg\">\n              <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n              <div>\n                <p className=\"text-sm font-medium text-yellow-900\">Actualizaciones</p>\n                <p className=\"text-xs text-yellow-700\">1 actualización disponible</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* History Modal */}\n        {showHistoryModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden\">\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Historial de Cambios</h3>\n                <button\n                  onClick={() => setShowHistoryModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line text-xl\"></i>\n                </button>\n              </div>\n              <div className=\"p-6 overflow-y-auto max-h-[60vh]\">\n                <div className=\"space-y-4\">\n                  {changeHistory.map((item) => (\n                    <div key={item.id} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2\">\n                            <h4 className=\"font-medium text-gray-900\">{item.section}</h4>\n                            <span className={`px-2 py-1 text-xs rounded-full ${\n                              item.action === 'Creación' ? 'bg-green-100 text-green-800' :\n                              item.action === 'Actualización' ? 'bg-blue-100 text-blue-800' :\n                              'bg-orange-100 text-orange-800'\n                            }`}>\n                              {item.action}\n                            </span>\n                          </div>\n                          <p className=\"text-sm text-gray-600 mt-1\">{item.details}</p>\n                          <div className=\"flex items-center space-x-4 mt-2 text-xs text-gray-500\">\n                            <span>Por: {item.user}</span>\n                            <span>{new Date(item.timestamp).toLocaleString('es-DO')}</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Reset Confirmation Modal */}\n        {showResetModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full mx-4\">\n              <div className=\"p-6\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center\">\n                    <i className=\"ri-alert-line text-orange-600\"></i>\n                  </div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Confirmar Restablecimiento</h3>\n                </div>\n                <p className=\"text-gray-600 mb-6\">\n                  ¿Estás seguro de que deseas restablecer todas las configuraciones a sus valores por defecto de República Dominicana? \n                  Esta acción no se puede deshacer.\n                </p>\n                <div className=\"flex space-x-3\">\n                  <button\n                    onClick={() => setShowResetModal(false)}\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    onClick={handleResetConfiguration}\n                    disabled={loading}\n                    className=\"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {loading ? 'Restableciendo...' : 'Restablecer'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["settingsSections","SettingsPage","searchTerm","setSearchTerm","useState","showHistoryModal","setShowHistoryModal","showResetModal","setShowResetModal","loading","setLoading","message","setMessage","filteredSections","section","handleSectionClick","href","handleExportConfiguration","companyInfo","accountingSettings","taxSettings","inventorySettings","payrollSettings","taxRates","warehouses","payrollConcepts","settingsService","workbook","XLSX.utils","companyData","companySheet","accountingData","accountingSheet","taxData","taxSheet","inventoryData","inventorySheet","payrollData","payrollSheet","taxRatesData","rate","taxRatesSheet","warehousesData","warehouse","warehousesSheet","conceptsData","concept","conceptsSheet","exportInfoData","exportInfoSheet","fileName","XLSX.writeFile","error","handleImportConfiguration","input","e","file","text","configData","importedSections","errorMessage","handleResetConfiguration","defaultAccountingSettings","defaultTaxSettings","defaultInventorySettings","defaultPayrollSettings","changeHistory","timer","jsx","DashboardLayout","jsxs","item"],"mappings":"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"}