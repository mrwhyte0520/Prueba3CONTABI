{"version":3,"file":"login-BGDqIu-j.js","sources":["../../src/pages/auth/login.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const { signIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    // Validaciones\n    if (!email || !password) {\n      setError('Por favor completa todos los campos');\n      setLoading(false);\n      return;\n    }\n\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      setError('Por favor ingresa un email válido');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const { data, error: signInError } = await signIn(email, password);\n\n      if (signInError) {\n        if (signInError.includes('Invalid login credentials')) {\n          setError('Email o contraseña incorrectos');\n        } else if (signInError.includes('Email not confirmed')) {\n          setError('Por favor confirma tu email antes de iniciar sesión');\n        } else {\n          setError(signInError);\n        }\n        setLoading(false);\n        return;\n      }\n\n      if (data?.user) {\n        // Redirigir al dashboard\n        navigate('/dashboard');\n      }\n    } catch (err: any) {\n      setError('Error al iniciar sesión. Por favor intenta de nuevo.');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n          {/* Logo y título */}\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl mb-4\">\n              <i className=\"ri-shield-user-line text-3xl text-white\"></i>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Bienvenido</h1>\n            <p className=\"text-gray-600\">Inicia sesión en tu cuenta</p>\n          </div>\n\n          {/* Mensaje de error */}\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start\">\n              <i className=\"ri-error-warning-line text-red-600 text-xl mr-3 mt-0.5\"></i>\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          )}\n\n          {/* Formulario */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Correo Electrónico\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-mail-line text-gray-400\"></i>\n                </div>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"tu@email.com\"\n                  disabled={loading}\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Contraseña\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-lock-line text-gray-400\"></i>\n                </div>\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"••••••••\"\n                  disabled={loading}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  disabled={loading}\n                >\n                  <i className={`${showPassword ? 'ri-eye-off-line' : 'ri-eye-line'} text-gray-400 hover:text-gray-600`}></i>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <input\n                  id=\"remember\"\n                  type=\"checkbox\"\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer\"\n                />\n                <label htmlFor=\"remember\" className=\"ml-2 block text-sm text-gray-700 cursor-pointer\">\n                  Recordarme\n                </label>\n              </div>\n              <Link\n                to=\"/auth/reset-password\"\n                className=\"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors whitespace-nowrap\"\n              >\n                ¿Olvidaste tu contraseña?\n              </Link>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center whitespace-nowrap\"\n            >\n              {loading ? (\n                <>\n                  <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                  Iniciando sesión...\n                </>\n              ) : (\n                <>\n                  <i className=\"ri-login-box-line mr-2\"></i>\n                  Iniciar Sesión\n                </>\n              )}\n            </button>\n          </form>\n\n          {/* Registro */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              ¿No tienes una cuenta?{' '}\n              <Link\n                to=\"/auth/register\"\n                className=\"font-medium text-blue-600 hover:text-blue-700 transition-colors whitespace-nowrap\"\n              >\n                Regístrate aquí\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            © 2024 Sistema Contable. Todos los derechos reservados.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Login","navigate","useNavigate","signIn","useAuth","email","setEmail","useState","password","setPassword","loading","setLoading","error","setError","showPassword","setShowPassword","handleSubmit","e","data","signInError","jsxs","jsx","Link","Fragment"],"mappings":"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"}