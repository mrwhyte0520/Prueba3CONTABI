import{r as h,j as e,D as U}from"./index-CQa-GowG.js";function H(){const[j,P]=h.useState("statements"),[u,L]=h.useState([]),[$,O]=h.useState(""),[N,g]=h.useState(!1),[k,v]=h.useState(!1),[R,y]=h.useState(!1),[F,b]=h.useState(!1),[r,w]=h.useState(null),o={assets:{current:[],nonCurrent:[]},liabilities:{current:[],nonCurrent:[]},equity:[],revenue:[],expenses:[]};h.useEffect(()=>{E()},[]);const E=()=>{L([])},_=async s=>{g(!0),setTimeout(()=>{g(!1),v(!1),E(),alert("Estado financiero generado exitosamente")},2e3)},a=s=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(s),C=s=>{switch(s){case"draft":return"bg-yellow-100 text-yellow-800";case"final":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=s=>{switch(s){case"balance_sheet":return"Balance General";case"income_statement":return"Estado de Resultados";case"cash_flow":return"Flujo de Efectivo";case"equity_statement":return"Estado de Patrimonio";default:return s}},l=(()=>{const s=o.assets.current.reduce((d,x)=>d+x.amount,0),n=o.assets.nonCurrent.reduce((d,x)=>d+x.amount,0),i=s+n,c=o.liabilities.current.reduce((d,x)=>d+x.amount,0),t=o.liabilities.nonCurrent.reduce((d,x)=>d+x.amount,0),p=c+t,m=o.equity.reduce((d,x)=>d+x.amount,0),T=o.revenue.reduce((d,x)=>d+x.amount,0),D=o.expenses.reduce((d,x)=>d+x.amount,0),q=T-D;return{totalCurrentAssets:s,totalNonCurrentAssets:n,totalAssets:i,totalCurrentLiabilities:c,totalNonCurrentLiabilities:t,totalLiabilities:p,totalEquity:m,totalRevenue:T,totalExpenses:D,netIncome:q}})(),G=()=>{try{let s=`Estados Financieros
`;s+=`Generado: ${new Date().toLocaleDateString()}

`,s+=`Nombre,Tipo,Período,Estado,Fecha Creación
`,u.forEach(t=>{const p=[`"${t.name}"`,f(t.type),t.period,t.status==="draft"?"Borrador":t.status==="final"?"Final":"Aprobado",new Date(t.created_at).toLocaleDateString()].join(",");s+=p+`
`}),s+=`
Resumen:
`,s+=`Total Estados:,${u.length}
`,s+=`Balance General:,${u.filter(t=>t.type==="balance_sheet").length}
`,s+=`Estado de Resultados:,${u.filter(t=>t.type==="income_statement").length}
`,s+=`Flujo de Efectivo:,${u.filter(t=>t.type==="cash_flow").length}
`,s+=`Estado de Patrimonio:,${u.filter(t=>t.type==="equity_statement").length}
`;const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),c=URL.createObjectURL(n);i.setAttribute("href",c),i.setAttribute("download",`estados_financieros_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(s){console.error("Error downloading Excel:",s),alert("Error al descargar el archivo")}},S=()=>{try{let s=`Balance General
`;s+=`Período: Diciembre 2024
`,s+=`Generado: ${new Date().toLocaleDateString()}

`,s+=`ACTIVOS
`,s+=`Activos Corrientes
`,s+=`Cuenta,Monto
`,o.assets.current.forEach(t=>{s+=`"${t.name}","${t.amount.toLocaleString()}"
`}),s+=`"Total Activos Corrientes","${l.totalCurrentAssets.toLocaleString()}"

`,s+=`Activos No Corrientes
`,s+=`Cuenta,Monto
`,o.assets.nonCurrent.forEach(t=>{s+=`"${t.name}","${t.amount.toLocaleString()}"
`}),s+=`"Total Activos No Corrientes","${l.totalNonCurrentAssets.toLocaleString()}"

`,s+=`"TOTAL ACTIVOS","${l.totalAssets.toLocaleString()}"

`,s+=`PASIVOS Y PATRIMONIO
`,s+=`Pasivos Corrientes
`,s+=`Cuenta,Monto
`,o.liabilities.current.forEach(t=>{s+=`"${t.name}","${t.amount.toLocaleString()}"
`}),s+=`"Total Pasivos Corrientes","${l.totalCurrentLiabilities.toLocaleString()}"

`,s+=`Pasivos No Corrientes
`,s+=`Cuenta,Monto
`,o.liabilities.nonCurrent.forEach(t=>{s+=`"${t.name}","${t.amount.toLocaleString()}"
`}),s+=`"Total Pasivos No Corrientes","${l.totalNonCurrentLiabilities.toLocaleString()}"

`,s+=`Patrimonio
`,s+=`Cuenta,Monto
`,o.equity.forEach(t=>{s+=`"${t.name}","${t.amount.toLocaleString()}"
`}),s+=`"Total Patrimonio","${l.totalEquity.toLocaleString()}"

`,s+=`"TOTAL PASIVOS Y PATRIMONIO","${(l.totalLiabilities+l.totalEquity).toLocaleString()}"
`;const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),c=URL.createObjectURL(n);i.setAttribute("href",c),i.setAttribute("download",`balance_general_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(s){console.error("Error downloading Balance Sheet:",s),alert("Error al descargar el Balance General")}},A=()=>{try{let s=`Estado de Resultados
`;s+=`Período: Diciembre 2024
`,s+=`Generado: ${new Date().toLocaleDateString()}

`,s+=`INGRESOS
`,s+=`Cuenta,Monto
`,o.revenue.forEach(m=>{s+=`"${m.name}","${m.amount.toLocaleString()}"
`}),s+=`"Total Ingresos","${l.totalRevenue.toLocaleString()}"

`,s+=`GASTOS
`,s+=`Cuenta,Monto
`,o.expenses.forEach(m=>{s+=`"${m.name}","${m.amount.toLocaleString()}"
`}),s+=`"Total Gastos","${l.totalExpenses.toLocaleString()}"

`,s+=`"UTILIDAD NETA","${l.netIncome.toLocaleString()}"

`,s+=`ANÁLISIS DE MÁRGENES
`,s+=`Indicador,Porcentaje
`;const n=((l.totalRevenue-o.expenses.find(m=>m.name==="Costo de Ventas").amount)/l.totalRevenue*100).toFixed(2),i=(l.netIncome/l.totalRevenue*100).toFixed(2);s+=`"Margen Bruto","${n}%"
`,s+=`"Margen Neto","${i}%"
`;const c=new Blob([s],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),p=URL.createObjectURL(c);t.setAttribute("href",p),t.setAttribute("download",`estado_resultados_${new Date().toISOString().split("T")[0]}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(s){console.error("Error downloading Income Statement:",s),alert("Error al descargar el Estado de Resultados")}},I=()=>{try{let s=`Estado de Flujo de Efectivo
`;s+=`Período: Diciembre 2024
`,s+=`Generado: ${new Date().toLocaleDateString()}

`,s+=`ACTIVIDADES DE OPERACIÓN
`,s+=`Concepto,Monto
`,s+=`"Utilidad Neta","3400000"
`,s+=`"Depreciación","180000"
`,s+=`"Cambios en Cuentas por Cobrar","-120000"
`,s+=`"Cambios en Inventarios","-200000"
`,s+=`"Cambios en Cuentas por Pagar","80000"
`,s+=`"Efectivo de Actividades de Operación","3340000"

`,s+=`ACTIVIDADES DE INVERSIÓN
`,s+=`Concepto,Monto
`,s+=`"Compra de Equipos","-450000"
`,s+=`"Venta de Activos","120000"
`,s+=`"Inversiones","-200000"
`,s+=`"Efectivo de Actividades de Inversión","-530000"

`,s+=`ACTIVIDADES DE FINANCIAMIENTO
`,s+=`Concepto,Monto
`,s+=`"Préstamos Obtenidos","800000"
`,s+=`"Pago de Préstamos","-600000"
`,s+=`"Dividendos Pagados","-500000"
`,s+=`"Efectivo de Actividades de Financiamiento","-300000"

`,s+=`RESUMEN
`,s+=`Concepto,Monto
`,s+=`"Aumento Neto en Efectivo","2510000"
`,s+=`"Efectivo al Inicio del Período","1200000"
`,s+=`"Efectivo al Final del Período","3710000"
`;const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),c=URL.createObjectURL(n);i.setAttribute("href",c),i.setAttribute("download",`flujo_efectivo_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(s){console.error("Error downloading Cash Flow:",s),alert("Error al descargar el Flujo de Efectivo")}},M=s=>{w(s),y(!0)},V=s=>{try{if(s.type==="balance_sheet")S();else if(s.type==="income_statement")A();else if(s.type==="cash_flow")I();else{let n=`${f(s.type)} - ${s.name}
`;n+=`Período: ${s.period}
`,n+=`Estado: ${s.status==="draft"?"Borrador":s.status==="final"?"Final":"Aprobado"}
`,n+=`Fecha de Creación: ${new Date(s.created_at).toLocaleDateString()}

`,n+=`Este estado financiero está en desarrollo.
`,n+="Próximamente estará disponible la descarga completa.";const i=new Blob([n],{type:"text/plain;charset=utf-8;"}),c=document.createElement("a"),t=URL.createObjectURL(i);c.setAttribute("href",t),c.setAttribute("download",`${s.name.replace(/\s+/g,"_")}.txt`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}catch(n){console.error("Error downloading statement:",n),alert("Error al descargar el estado financiero")}},B=s=>{w(s),b(!0)};return e.jsx(U,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estados Financieros"}),e.jsx("p",{className:"text-gray-600",children:"Generación y gestión de reportes financieros"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:G,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-excel-line mr-2"}),"Descargar Excel"]}),e.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Generar Estado"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"statements",label:"Estados Generados",icon:"ri-file-list-3-line"},{id:"balance",label:"Balance General",icon:"ri-scales-3-line"},{id:"income",label:"Estado de Resultados",icon:"ri-line-chart-line"},{id:"cashflow",label:"Flujo de Efectivo",icon:"ri-money-dollar-circle-line"}].map(s=>e.jsxs("button",{onClick:()=>P(s.id),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${j===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:`${s.icon} mr-2`}),s.label]},s.id))})}),j==="statements"&&e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Estados Financieros Generados"}),e.jsxs("select",{value:$,onChange:s=>O(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm pr-8",children:[e.jsx("option",{value:"2024-12",children:"Diciembre 2024"}),e.jsx("option",{value:"2024-11",children:"Noviembre 2024"}),e.jsx("option",{value:"2024-10",children:"Octubre 2024"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado Financiero"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Período"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Creación"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:f(s.type)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.period}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(s.status)}`,children:s.status==="draft"?"Borrador":s.status==="final"?"Final":"Aprobado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(s.created_at).toLocaleDateString("es-DO")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>M(s),className:"text-blue-600 hover:text-blue-900",title:"Ver",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>V(s),className:"text-green-600 hover:text-green-900",title:"Descargar",children:e.jsx("i",{className:"ri-download-line"})}),e.jsx("button",{onClick:()=>B(s),className:"text-gray-600 hover:text-gray-900",title:"Editar",children:e.jsx("i",{className:"ri-edit-line"})})]})})]},s.id))})]})})]})}),j==="balance"&&e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Balance General"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Al 31 de Diciembre 2024"}),e.jsxs("button",{onClick:S,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-download-line mr-1"}),"Descargar Excel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-600",children:"ACTIVOS"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Activos Corrientes"}),o.assets.current.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsx("span",{className:"text-sm font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Activos Corrientes"}),e.jsx("span",{children:a(l.totalCurrentAssets)})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Activos No Corrientes"}),o.assets.nonCurrent.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsx("span",{className:"text-sm font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Activos No Corrientes"}),e.jsx("span",{children:a(l.totalNonCurrentAssets)})]})})]}),e.jsx("div",{className:"border-t-2 border-blue-600 pt-3",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"TOTAL ACTIVOS"}),e.jsx("span",{children:a(l.totalAssets)})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"PASIVOS Y PATRIMONIO"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Pasivos Corrientes"}),o.liabilities.current.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsx("span",{className:"text-sm font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Pasivos Corrientes"}),e.jsx("span",{children:a(l.totalCurrentLiabilities)})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Pasivos No Corrientes"}),o.liabilities.nonCurrent.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsx("span",{className:"text-sm font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Pasivos No Corrientes"}),e.jsx("span",{children:a(l.totalNonCurrentLiabilities)})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 text-green-600",children:"Patrimonio"}),o.equity.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsx("span",{className:"text-sm font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Patrimonio"}),e.jsx("span",{children:a(l.totalEquity)})]})})]}),e.jsx("div",{className:"border-t-2 border-red-600 pt-3",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"TOTAL PASIVOS Y PATRIMONIO"}),e.jsx("span",{children:a(l.totalLiabilities+l.totalEquity)})]})})]})]})]})}),j==="income"&&e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Estado de Resultados"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Del 1 al 31 de Diciembre 2024"}),e.jsxs("button",{onClick:A,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-download-line mr-1"}),"Descargar Excel"]})]})]}),e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-600",children:"INGRESOS"}),o.revenue.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Ingresos"}),e.jsx("span",{children:a(l.totalRevenue)})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"GASTOS"}),o.expenses.map((s,n)=>e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"font-medium",children:a(s.amount)})]},n)),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Gastos"}),e.jsx("span",{children:a(l.totalExpenses)})]})})]}),e.jsx("div",{className:"border-t-2 border-gray-800 pt-4",children:e.jsxs("div",{className:"flex justify-between font-bold text-xl",children:[e.jsx("span",{children:"UTILIDAD NETA"}),e.jsx("span",{className:l.netIncome>=0?"text-green-600":"text-red-600",children:a(l.netIncome)})]})})]})]})}),j==="cashflow"&&e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Estado de Flujo de Efectivo"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Del 1 al 31 de Diciembre 2024"}),e.jsxs("button",{onClick:I,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-download-line mr-1"}),"Descargar Excel"]})]})]}),e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-600",children:"Actividades de Operación"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Utilidad Neta"}),e.jsx("span",{className:"font-medium",children:a(34e5)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Depreciación"}),e.jsx("span",{className:"font-medium",children:a(18e4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cambios en Cuentas por Cobrar"}),e.jsx("span",{className:"font-medium",children:a(-12e4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cambios en Inventarios"}),e.jsx("span",{className:"font-medium",children:a(-2e5)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cambios en Cuentas por Pagar"}),e.jsx("span",{className:"font-medium",children:a(8e4)})]})]}),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Efectivo de Actividades de Operación"}),e.jsx("span",{children:a(334e4)})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-600",children:"Actividades de Inversión"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Compra de Equipos"}),e.jsx("span",{className:"font-medium",children:a(-45e4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Venta de Activos"}),e.jsx("span",{className:"font-medium",children:a(12e4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Inversiones"}),e.jsx("span",{className:"font-medium",children:a(-2e5)})]})]}),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Efectivo de Actividades de Inversión"}),e.jsx("span",{children:a(-53e4)})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-600",children:"Actividades de Financiamiento"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Préstamos Obtenidos"}),e.jsx("span",{className:"font-medium",children:a(8e5)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pago de Préstamos"}),e.jsx("span",{className:"font-medium",children:a(-6e5)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dividendos Pagados"}),e.jsx("span",{className:"font-medium",children:a(-5e5)})]})]}),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Efectivo de Actividades de Financiamiento"}),e.jsx("span",{children:a(-3e5)})]})})]}),e.jsx("div",{className:"border-t-2 border-gray-800 pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Aumento Neto en Efectivo"}),e.jsx("span",{children:a(251e4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Efectivo al Inicio del Período"}),e.jsx("span",{children:a(12e5)})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Efectivo al Final del Período"}),e.jsx("span",{children:a(371e4)})]})]})})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generar Nuevo Estado Financiero"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Estado"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-8",children:[e.jsx("option",{value:"balance_sheet",children:"Balance General"}),e.jsx("option",{value:"income_statement",children:"Estado de Resultados"}),e.jsx("option",{value:"cash_flow",children:"Flujo de Efectivo"}),e.jsx("option",{value:"equity_statement",children:"Estado de Patrimonio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Período"}),e.jsx("input",{type:"month",className:"w-full border border-gray-300 rounded-lg px-3 py-2",defaultValue:"2024-12"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Estado"}),e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ej: Balance General Enero 2025"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{onClick:()=>_(),disabled:N,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 whitespace-nowrap",children:N?"Generando...":"Generar Estado"})]})]})}),R&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.name}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:f(r.type)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Período:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:r.period})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Estado:"}),e.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(r.status)}`,children:r.status==="draft"?"Borrador":r.status==="final"?"Final":"Aprobado"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Fecha Creación:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:new Date(r.created_at).toLocaleDateString()})]})]}),r.type==="balance_sheet"&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Resumen del Balance General"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Activos"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:a(r.totalAssets||0)})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Pasivos"}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:a(r.totalLiabilities||0)})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Patrimonio"}),e.jsx("div",{className:"text-lg font-bold text-green-600",children:a(r.totalEquity||0)})]})]})]}),r.type==="income_statement"&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Resumen del Estado de Resultados"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Ingresos"}),e.jsx("div",{className:"text-lg font-bold text-green-600",children:a(r.totalRevenue||0)})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Gastos"}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:a(r.totalExpenses||0)})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Utilidad Neta"}),e.jsx("div",{className:`text-lg font-bold ${(r.netIncome||0)>=0?"text-green-600":"text-red-600"}`,children:a(r.netIncome||0)})]})]})]})]})]})}),F&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Editar Estado Financiero"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Estado"}),e.jsx("input",{type:"text",defaultValue:r.name,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Estado"}),e.jsxs("select",{defaultValue:r.type,className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-8",children:[e.jsx("option",{value:"balance_sheet",children:"Balance General"}),e.jsx("option",{value:"income_statement",children:"Estado de Resultados"}),e.jsx("option",{value:"cash_flow",children:"Flujo de Efectivo"}),e.jsx("option",{value:"equity_statement",children:"Estado de Patrimonio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Período"}),e.jsx("input",{type:"month",defaultValue:r.period,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs("select",{defaultValue:r.status,className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-8",children:[e.jsx("option",{value:"draft",children:"Borrador"}),e.jsx("option",{value:"final",children:"Final"}),e.jsx("option",{value:"approved",children:"Aprobado"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{onClick:()=>{b(!1),alert("Estado financiero actualizado exitosamente")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"Guardar Cambios"})]})]})})]})})}export{H as default};
//# sourceMappingURL=page-pA7_aG9J.js.map
