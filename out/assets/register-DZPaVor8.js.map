{"version":3,"file":"register-DZPaVor8.js","sources":["../../src/pages/auth/register.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const { signUp } = useAuth();\n  const [formData, setFormData] = useState({\n    fullName: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    // Validaciones\n    if (!formData.fullName || !formData.email || !formData.password || !formData.confirmPassword) {\n      setError('Por favor completa todos los campos');\n      setLoading(false);\n      return;\n    }\n\n    if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      setError('Por favor ingresa un email válido');\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password.length < 6) {\n      setError('La contraseña debe tener al menos 6 caracteres');\n      setLoading(false);\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Las contraseñas no coinciden');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const { data, error: signUpError } = await signUp(\n        formData.email,\n        formData.password,\n        formData.fullName\n      );\n\n      if (signUpError) {\n        if (signUpError.includes('already registered')) {\n          setError('Este correo electrónico ya está registrado');\n        } else if (signUpError.includes('User already registered')) {\n          setError('Este correo electrónico ya está registrado');\n        } else {\n          setError(signUpError);\n        }\n        setLoading(false);\n        return;\n      }\n\n      if (data?.user) {\n        setSuccess(true);\n        // Esperar 3 segundos antes de redirigir\n        setTimeout(() => {\n          navigate('/auth/login');\n        }, 3000);\n      }\n    } catch (err: any) {\n      setError('Error al crear la cuenta. Por favor intenta de nuevo.');\n      setLoading(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-white rounded-2xl shadow-xl p-8 text-center\">\n            <div className=\"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6\">\n              <i className=\"ri-mail-check-line text-4xl text-green-600\"></i>\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">¡Registro Exitoso!</h2>\n            <p className=\"text-gray-600 mb-6\">\n              Hemos enviado un correo de confirmación a <strong>{formData.email}</strong>\n            </p>\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n              <p className=\"text-sm text-blue-800\">\n                <i className=\"ri-information-line mr-2\"></i>\n                Por favor revisa tu bandeja de entrada y haz clic en el enlace de confirmación para activar tu cuenta.\n              </p>\n            </div>\n            <p className=\"text-sm text-gray-500 mb-6\">\n              Serás redirigido al inicio de sesión en unos segundos...\n            </p>\n            <Link\n              to=\"/auth/login\"\n              className=\"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all whitespace-nowrap\"\n            >\n              <i className=\"ri-login-box-line mr-2\"></i>\n              Ir a Iniciar Sesión\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n          {/* Logo y título */}\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl mb-4\">\n              <i className=\"ri-user-add-line text-3xl text-white\"></i>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Crear Cuenta</h1>\n            <p className=\"text-gray-600\">Regístrate para comenzar</p>\n          </div>\n\n          {/* Mensaje de error */}\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start\">\n              <i className=\"ri-error-warning-line text-red-600 text-xl mr-3 mt-0.5\"></i>\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          )}\n\n          {/* Formulario */}\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            <div>\n              <label htmlFor=\"fullName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Nombre Completo\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-user-line text-gray-400\"></i>\n                </div>\n                <input\n                  id=\"fullName\"\n                  name=\"fullName\"\n                  type=\"text\"\n                  value={formData.fullName}\n                  onChange={handleChange}\n                  className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"Juan Pérez\"\n                  disabled={loading}\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Correo Electrónico\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-mail-line text-gray-400\"></i>\n                </div>\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"tu@email.com\"\n                  disabled={loading}\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Contraseña\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-lock-line text-gray-400\"></i>\n                </div>\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"Mínimo 6 caracteres\"\n                  disabled={loading}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  disabled={loading}\n                >\n                  <i className={`${showPassword ? 'ri-eye-off-line' : 'ri-eye-line'} text-gray-400 hover:text-gray-600`}></i>\n                </button>\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Confirmar Contraseña\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <i className=\"ri-lock-line text-gray-400\"></i>\n                </div>\n                <input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type={showConfirmPassword ? 'text' : 'password'}\n                  value={formData.confirmPassword}\n                  onChange={handleChange}\n                  className=\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"Repite tu contraseña\"\n                  disabled={loading}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  disabled={loading}\n                >\n                  <i className={`${showConfirmPassword ? 'ri-eye-off-line' : 'ri-eye-line'} text-gray-400 hover:text-gray-600`}></i>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex items-start\">\n              <input\n                id=\"terms\"\n                type=\"checkbox\"\n                required\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer mt-1\"\n                disabled={loading}\n              />\n              <label htmlFor=\"terms\" className=\"ml-2 block text-sm text-gray-700 cursor-pointer\">\n                Acepto los{' '}\n                <a href=\"#\" className=\"text-blue-600 hover:text-blue-700 font-medium whitespace-nowrap\">\n                  términos y condiciones\n                </a>{' '}\n                y la{' '}\n                <a href=\"#\" className=\"text-blue-600 hover:text-blue-700 font-medium whitespace-nowrap\">\n                  política de privacidad\n                </a>\n              </label>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center whitespace-nowrap\"\n            >\n              {loading ? (\n                <>\n                  <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                  Creando cuenta...\n                </>\n              ) : (\n                <>\n                  <i className=\"ri-user-add-line mr-2\"></i>\n                  Crear Cuenta\n                </>\n              )}\n            </button>\n          </form>\n\n          {/* Login */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              ¿Ya tienes una cuenta?{' '}\n              <Link\n                to=\"/auth/login\"\n                className=\"font-medium text-blue-600 hover:text-blue-700 transition-colors whitespace-nowrap\"\n              >\n                Inicia sesión aquí\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            © 2024 Sistema Contable. Todos los derechos reservados.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Register","navigate","useNavigate","signUp","useAuth","formData","setFormData","useState","loading","setLoading","error","setError","success","setSuccess","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","handleChange","e","handleSubmit","data","signUpError","jsx","jsxs","Link","Fragment"],"mappings":"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"}